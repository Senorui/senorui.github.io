<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>睿先森</title>
  
  
  <link href="https://senorui.top/atom.xml" rel="self"/>
  
  <link href="https://senorui.top/"/>
  <updated>2020-09-26T08:23:01.387Z</updated>
  <id>https://senorui.top/</id>
  
  <author>
    <name>Senorui</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>对本站做的一点点优化</title>
    <link href="https://senorui.top/posts/6bcd.html"/>
    <id>https://senorui.top/posts/6bcd.html</id>
    <published>2020-09-25T14:48:26.000Z</published>
    <updated>2020-09-26T08:23:01.387Z</updated>
    
    <content type="html"><![CDATA[<div class="note info">首先将站点搬到国内服务器，弃用各种统计并精简和删除不必要的资源。</div><h2 id="使用Yarn包管理器"><a href="#使用Yarn包管理器" class="headerlink" title="使用Yarn包管理器"></a>使用Yarn包管理器</h2><p>Yarn会并行执行安装包所以速度要快很多，以及其拥有的离线模式更是显著提高安装下载的速度。</p><p>安装Yarn</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install yarn -g</span><br></pre></td></tr></table></figure><p>删除原<code>node_modules</code>再重新安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -rf node_modules</span><br><span class="line">yarn</span><br></pre></td></tr></table></figure><p>重新编译dll文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn run dll</span><br><span class="line">yarn run deploy</span><br></pre></td></tr></table></figure><p>Yarn安装全部依赖</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn</span><br><span class="line">#或者</span><br><span class="line">yarn install</span><br></pre></td></tr></table></figure><p>切换为淘宝源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn config set registry https:&#x2F;&#x2F;registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>使用方法见: <a href="https://yarn.bootcss.com/docs/usage/">https://yarn.bootcss.com/docs/usage/</a></p><h2 id="代码压缩"><a href="#代码压缩" class="headerlink" title="代码压缩"></a>代码压缩</h2><p>代码压缩使用的是<code>hexo-neat</code>插件，其配置使用简单。<br>安装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add hexo-neat</span><br></pre></td></tr></table></figure><p>博客根目录下做如下配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># hexo-neat</span><br><span class="line">neat_enable: true</span><br><span class="line"># 压缩 html</span><br><span class="line">neat_html:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line"># 压缩 css</span><br><span class="line">neat_css:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - &#39;**&#x2F;*.min.css&#39;</span><br><span class="line">    - &#39;**&#x2F;*.css.map&#39;</span><br><span class="line"># 压缩 js</span><br><span class="line">neat_js:</span><br><span class="line">  enable: true</span><br><span class="line">  mangle: true</span><br><span class="line">  output:</span><br><span class="line">  compress:</span><br><span class="line">  exclude:</span><br><span class="line">    - &#39;**&#x2F;*.min.js&#39;</span><br></pre></td></tr></table></figure><h2 id="图片压缩"><a href="#图片压缩" class="headerlink" title="图片压缩"></a>图片压缩</h2><p>统一全站图片格式，本站全部使用 <code>.webp</code> 格式图片。</p><p>使用图片压缩工具，我使用的是 <strong>【<a href="https://github.com/meowtec/Imagine/">Imagine</a>】</strong>客户端，其也支持各格式间的转换。</p><p><img src="/img/others/yasuo.webp"></p><div class="note warning no-icon"><p>注: 转换为<code>.png</code>格式需要安装 <a href="https://imagemagick.org/script/download.php">ImageMagick</a>，且<code>.jpg</code>转<code>.png</code>由于色彩丰富度增加图片大小会变大。</div></p><p>也有其他图片压缩网站或工具，比如 【<a href="https://www.iloveimg.com/zh-cn">I love IMG</a>】、【<a href="https://tinypng.com/">TinyPNG</a>】 以及 【<a href="https://github.com/marketplace/imgbot">ImgBot</a>】等。</p><h2 id="第三方库使用CDN"><a href="#第三方库使用CDN" class="headerlink" title="第三方库使用CDN"></a>第三方库使用CDN</h2><p>使用【<a href="https://www.bootcdn.cn/">BootCDN</a>】、【<a href="https://www.jsdelivr.com/">jsdelivr</a>】等CDN的公共资源引用地址。</p><h2 id="使用预加载"><a href="#使用预加载" class="headerlink" title="使用预加载"></a>使用预加载</h2><p>使用 <strong>instant.page</strong>开启页面预加载</p><p><strong>Make your site’s pages instant in 1 minute and improve your conversion rate by 1%！</strong></p><p>使用方法：<br>直接将此 HTML 片段放在<code>&lt;/body&gt;</code>之前即可。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//instant.page/5.1.0&quot;</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">integrity</span>=<span class="string">&quot;sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>或者自托管</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;路径/js/5.1.0.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="note danger">注意:<p>使用 <strong>Instant.page</strong>会显著增加自己的站点的 PV 以及请求量，对于使用CDN全站加速的小伙伴需要着重注意，因为CDN的请求数也是要收费的。</div></p><h2 id="其他方法"><a href="#其他方法" class="headerlink" title="其他方法"></a>其他方法</h2><p>使用对象存储以及开启全站CDN等。</p><p>在此暂时不做考虑！</p>]]></content>
    
    
    <summary type="html">我对本站做的一点优化提速，开启代码压缩、图片压缩、资源启用CDN引用、开启预加载等等。</summary>
    
    
    
    <category term="烟岚云岫" scheme="https://senorui.top/categories/%E7%83%9F%E5%B2%9A%E4%BA%91%E5%B2%AB/"/>
    
    
    <category term="Hexo博客" scheme="https://senorui.top/tags/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="优化提速" scheme="https://senorui.top/tags/%E4%BC%98%E5%8C%96%E6%8F%90%E9%80%9F/"/>
    
  </entry>
  
  <entry>
    <title>感冒后的瞎写</title>
    <link href="https://senorui.top/posts/46a3.html"/>
    <id>https://senorui.top/posts/46a3.html</id>
    <published>2020-09-21T04:35:26.000Z</published>
    <updated>2020-09-26T07:44:14.217Z</updated>
    
    <content type="html"><![CDATA[<p>大概是9.16那天，整天天气都是阴凉的，下午更是吹起了冷风，宿舍所有人都说冷，当时也没有意识到该添衣了。</p><p>晚上睡前就开始流鼻涕，随之而来的还有头痛，那晚半夜两点了才迷迷糊糊睡着。</p><p>第二天，起床后依然鼻塞伴随着鼻涕，以及头痛引起的全身不适。测了下体温，倒是没有发热发烧的情况。</p><div class="note danger no-icon">普通感冒： <p>就是大家常说的感冒，又称“伤风”，一般由着凉、劳累等因素引发，主要由常见的急性呼吸道病毒感染造成，如鼻病毒、呼吸道合胞病毒等，症状表现有鼻塞、喷嚏、流涕、发热、咳嗽、头痛等，体力、食欲多无明显影响，很少出现明显的头痛、肌肉酸痛等全身不适，症状较轻，多可自愈。普通感冒通常没有明显发热，即使发热一般也是中低度发热，通常1-3天能降至正常，服用退烧药有效。</div></p><p>在这新冠肺炎疫情大流行的年代，最怕的就是感冒发烧发热。幸好，只是因受凉引起的“伤风”而已！</p><p>虽然感冒了，但食欲依然正常，甚至比平时吃得还多，晚上也更容易饿了，那晚十一点睡前还下床去找了东西吃。</p><p><span class="inline-tag blue">PS: 上星期买了一箱零食防止自己晚上饿，所以宿舍还有吃的。</span></p><p>又过了一天，依然没有好转，直到室友说他箱子里好像还有药，要我自己去看看。</p><p>经历八个多月的假期，回校后也是禁止出校的，幸好室友去年买的药还有剩余的999感冒灵颗粒和莲花清瘟颗粒，看了有效期到 2021.06，显然还没过期，于是就给室友说我拿来吃。</p><p>昨天晚上饭后发现没事做，一时兴起，就去了后山湖边逛逛。去的时候，恰巧处于黄昏之时，早已不见了踪影的太阳依然把西边的云彩染的黄黄的，于是用手机拍了几张照片，然后边玩手机边绕着湖边走走。</p><p><img src="/img/46a3/1.webp"></p><p><img src="/img/46a3/2.webp"></p><p>沿湖饶了半圈后天空已近黑，东边湖上木桥与凉亭上偶尔有几个人在聊天外，其他人已陆陆续续往往回走了，似乎都不想在此刻逗留片刻。</p><p>我还是逆着人流从木桥上了凉亭，边走边看看，打算往深处下一凉亭走去，走到半路已然没了游玩的同学。</p><p>于是就近倚靠在凉亭木栏边，一时想起该给某个好久不见的好友打个电话了，虽然最后没人接。</p><p>黑夜的帷幕已快遮住了这一方天地，我选择了闭上眼享受这黑夜来临前的片刻宁静。</p><p>某某大师曾说过，你每得到片刻的享受，那么也会在某一时刻付出相应的苦痛。</p><p>这不？片刻后，大脑还沉浸在这份宁静中，可脚背上却传来了一抹疼痛。原来，趁人们不注意它已经在你身上饱餐了一顿。</p><p>这也许就是同学们们不愿逗留的原因吧。</p><p>又多停留了片刻，我也慢慢悠悠的离开了此地向宿舍楼走去。</p><p>这两天由于感冒不适，加上是周末，整个人开始放飞自我，不看书学习，只是窝在床上抱着电脑逛论坛、博客。</p><p>回到宿舍也洗漱了一下就爬上床玩电脑去了，没玩多久就开始鼻痒打喷嚏，鼻涕随之而来。</p><div class="note warning">内心: 坏了，去后山游了一圈又受凉了........</div><p>后山一游的代价就是，今晚鼻涕加喷嚏的狂轰乱炸，随之凌晨两点半了还没睡着！</p><p>希望明早起来会好点吧。</p><p><strong>【结束语】</strong></p><p><strong>生命是脆弱的，我们在呵护它的同时更需要锻炼他的韧性！</strong></p><div class="note info"><p>让我们享受人生的滋味吧，如果我们感受得越多，我们就会生活得越长久。      ——法朗士</div></p>]]></content>
    
    
    <summary type="html">时隔半年终于由于着凉得了普通感冒，即“伤风”，以及还作死晚上去游玩。</summary>
    
    
    
    <category term="温澜潮生" scheme="https://senorui.top/categories/%E6%B8%A9%E6%BE%9C%E6%BD%AE%E7%94%9F/"/>
    
    
    <category term="伤风感冒" scheme="https://senorui.top/tags/%E4%BC%A4%E9%A3%8E%E6%84%9F%E5%86%92/"/>
    
    <category term="生命与生活" scheme="https://senorui.top/tags/%E7%94%9F%E5%91%BD%E4%B8%8E%E7%94%9F%E6%B4%BB/"/>
    
    <category term="随笔" scheme="https://senorui.top/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>记解决Git bash中文乱码问题</title>
    <link href="https://senorui.top/posts/7b6a.html"/>
    <id>https://senorui.top/posts/7b6a.html</id>
    <published>2020-09-19T02:35:26.000Z</published>
    <updated>2020-09-26T07:43:51.477Z</updated>
    
    <content type="html"><![CDATA[<p>文章非原创！！！</p><div class="note danger no-icon"><p><strong>本文参考：</strong><br><strong><a href="https://www.jianshu.com/p/b80a1948c42f">Windows下git bash中文乱码问题</a> —— 轻丨尘</strong></div></p><p>最近Git bash时中文总是乱码，于是网上各种寻找解决办法。</p><p><img src="/img/7b6a/last.webp"></p><p><strong>最终办法如下:</strong></p><p>先在Git Bash窗口左上角显示路径处右键打开设置选项，把文本设置成中文。如下图</p><p><img src="/img/7b6a/seting.webp"></p><p>然后在Git Bash中依次执行以下命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --global gui.encoding utf-8</span><br><span class="line">git config --global i18n.commitencoding utf-8</span><br><span class="line">git config --global i18n.logoutputencoding utf-8</span><br><span class="line">export LESSCHARSET&#x3D;utf-8</span><br></pre></td></tr></table></figure><p>完美解决</p><p><img src="/img/7b6a/last1.webp"></p><div class="note primary no-icon">附:<p>设置整个窗口语言为中文<br>在Git Bash窗口左上角显示路径处右键点击<code>Options</code>选项，打开<code>windows</code>选项，将<code>UI language</code>设置为<code>zh-cn</code>保存即可。</div></p><p>方法如图</p><p><img src="/img/7b6a/UIlanguage.webp"></p>]]></content>
    
    
    <summary type="html">记如何解决Git bash中文乱码问题。</summary>
    
    
    
    <category term="洪炉点雪" scheme="https://senorui.top/categories/%E6%B4%AA%E7%82%89%E7%82%B9%E9%9B%AA/"/>
    
    
    <category term="Hexo博客" scheme="https://senorui.top/tags/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="Git bash" scheme="https://senorui.top/tags/Git-bash/"/>
    
    <category term="中文乱码" scheme="https://senorui.top/tags/%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>最简单地将博客部署到华为云服务器</title>
    <link href="https://senorui.top/posts/8779.html"/>
    <id>https://senorui.top/posts/8779.html</id>
    <published>2020-09-16T10:06:16.000Z</published>
    <updated>2020-09-26T07:42:58.960Z</updated>
    
    <content type="html"><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><div class="note info no-icon">去年华为云开年购活动78买了一年的1核2G云服务器，到今天时间刚好过了一半。<p>此服务器除了暑假时搭了个MC服务器和室友一起玩外就一直处于闲置状态，虽然hexo博客部署在Github上也开了华为云的CDN但是加载还是有很大的延迟，今天一想还是把它搬云服务器上吧！！</p></div><div class="note warning">此文属于小白文，完全是笨办法！通过Git管理的方法今天也试了，遇到很多坑且访问一直是403，懒得的搞了暂时就这样用着吧！！！</div><h2 id="开始准备"><a href="#开始准备" class="headerlink" title="开始准备"></a>开始准备</h2><h3 id="远程登陆"><a href="#远程登陆" class="headerlink" title="远程登陆"></a>远程登陆</h3><p>用SSH工具远程登陆到云服务器上，PUTTY、Xshell和各云服务器厂商提供的远程登陆工具皆可！</p><h3 id="安装宝塔面板"><a href="#安装宝塔面板" class="headerlink" title="安装宝塔面板"></a>安装宝塔面板</h3><p>安装命令：</p><p>Centos安装脚本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install_6.0.sh &amp;&amp; sh install.sh</span><br></pre></td></tr></table></figure><p>Ubuntu/Deepin安装脚本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh</span><br></pre></td></tr></table></figure><p>Debian安装脚本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install-ubuntu_6.0.sh &amp;&amp; bash install.sh</span><br></pre></td></tr></table></figure><p>Fedora安装脚本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install_6.0.sh &amp;&amp; bash install.sh</span><br></pre></td></tr></table></figure><h3 id="安装web环境"><a href="#安装web环境" class="headerlink" title="安装web环境"></a>安装web环境</h3><p>安装成功获取到面板入口后，登录面板，并根据提示一键安装 <strong>LNMP</strong> 环境，虽然我们只需要用到ngnix，还是全安装吧。</p><h2 id="搭建网站"><a href="#搭建网站" class="headerlink" title="搭建网站"></a>搭建网站</h2><h3 id="创建网站目录"><a href="#创建网站目录" class="headerlink" title="创建网站目录"></a>创建网站目录</h3><p>在面板上通过文件功能选项进入<code>/www/wwwroot/</code>创建<code>blog</code>文件夹。</p><p>再进入网站功能选项添加一个网站，填写域名，网站目录选择刚刚建的<code>blog</code>文件夹，PHP版本随意均可。</p><h3 id="创建网站"><a href="#创建网站" class="headerlink" title="创建网站"></a>创建网站</h3><p>将你的域名解析到云服务器IP上，然后将 Hexo 根目录下<code>punlic</code>文件下的所有静态文件上传到 <code>blog</code> 文件夹中即可。</p><h2 id="启用SSL"><a href="#启用SSL" class="headerlink" title="启用SSL"></a>启用SSL</h2><h3 id="域名证书购买"><a href="#域名证书购买" class="headerlink" title="域名证书购买"></a><strong><a href="https://console.huaweicloud.com/scs/?region=cn-east-2#/scs/purchase">域名证书购买</a></strong></h3><p>证书是华为云零元白嫖的，登录账号的情况下，选择DV（Basic）-DigCert-单域名，即可零元购买。</p><h3 id="证书绑定"><a href="#证书绑定" class="headerlink" title="证书绑定"></a>证书绑定</h3><p>购买后去证书管理，选择系统生成SCR然后绑定域名，等待签发即可。</p><p>签发成功后下载密钥和证书。</p><h3 id="启用SSL-1"><a href="#启用SSL-1" class="headerlink" title="启用SSL"></a>启用SSL</h3><p>得到一个压缩包，其包括了Tomcat、Nginx、Apache和IIS的密钥和证书。</p><p>以 <strong>Nginx</strong>为例，其他的自行摸索。</p><p>在宝塔面板上网站的SSL配置处，选择其他证书，并粘贴您的 <em>server.crt</em>(密钥)以及 <em>server.key</em>(证书) 内容保存即可。</p><h2 id="部署工具"><a href="#部署工具" class="headerlink" title="部署工具"></a>部署工具</h2><p>由于本人小白一枚，服务器搭建使用Git遇坑太多了，懒得折腾，遂放弃。</p><p>目前用的是 <strong><a href="https://winscp.net/eng/download.php">WinSCP</a></strong> ，静态文件生成后远程登陆，打开本地<code>public</code>文件夹和云服务器的<code>blog</code> 文件夹，将本地静态文件全选拖到 <code>blog</code> 文件夹内即可上传。</p>]]></content>
    
    
    <summary type="html">将hexo博客简单地搬到云服务器上并开启绑定SSL证书！</summary>
    
    
    
    <category term="烟岚云岫" scheme="https://senorui.top/categories/%E7%83%9F%E5%B2%9A%E4%BA%91%E5%B2%AB/"/>
    
    
    <category term="Hexo博客" scheme="https://senorui.top/tags/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="云服务器" scheme="https://senorui.top/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>记hexo版本升级和插件升级</title>
    <link href="https://senorui.top/posts/143a.html"/>
    <id>https://senorui.top/posts/143a.html</id>
    <published>2020-09-12T14:45:46.000Z</published>
    <updated>2020-09-26T07:43:23.660Z</updated>
    
    <content type="html"><![CDATA[<p>开始 &lt;(￣︶￣)↗[GO!] ( •̀ ω •́ )✧ </p><ol><li><p>查看hexo版本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo version</span><br></pre></td></tr></table></figure></li><li><p>先全局升级hexo-cli</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure></li><li><p>检查插件是否有升级</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g npm-check</span><br><span class="line">npm-check</span><br></pre></td></tr></table></figure></li><li><p>插件升级</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g npm-upgrade</span><br><span class="line">npm-upgrade</span><br></pre></td></tr></table></figure></li><li><p>全局更新</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update -g</span><br></pre></td></tr></table></figure></li><li><p>更新依赖</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update --save</span><br></pre></td></tr></table></figure></li></ol><p>如下图：</p><p><img src="/images/others/update.png" alt="update"></p><div class="note warning">当4.2.1+ 升级到5.0+ 后需要修改根目录的配置文件，大概90行左右的 updated_option 选项</div><p>修改为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updated_option: &#39;mtime&#39;</span><br></pre></td></tr></table></figure><p><img src="/img/others/config.webp" alt="config"></p>]]></content>
    
    
    <summary type="html">hexo如何进行版本升级和插件升级！</summary>
    
    
    
    <category term="洪炉点雪" scheme="https://senorui.top/categories/%E6%B4%AA%E7%82%89%E7%82%B9%E9%9B%AA/"/>
    
    
    <category term="Hexo博客" scheme="https://senorui.top/tags/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="hexo升级" scheme="https://senorui.top/tags/hexo%E5%8D%87%E7%BA%A7/"/>
    
    <category term="插件升级" scheme="https://senorui.top/tags/%E6%8F%92%E4%BB%B6%E5%8D%87%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>三步让你的博客安装成仿PWA应用</title>
    <link href="https://senorui.top/posts/a4fb.html"/>
    <id>https://senorui.top/posts/a4fb.html</id>
    <published>2020-08-25T06:06:16.000Z</published>
    <updated>2020-09-26T08:32:08.535Z</updated>
    
    <content type="html"><![CDATA[<h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><div class="note info"><p>昨天晚上逛开往的时候看到很多小伙伴的站点开启了PWA，于是心痒难耐就想弄一个！</p><p>但但是！<code>hexo-pwa</code> 和 <code>hexo-offline</code> 插件均不支持 <strong>Hexo 5.0+</strong> ，安装后编译生成时就开始报错。</p><p>既然升了最新版，哪有在降回去的道理，其实是本人懒 ||o(<em>°▽°</em>)o|Ю [哈哈?]</div></p><h3 id="想法"><a href="#想法" class="headerlink" title="想法"></a>想法</h3><p>于是想到 <strong>favicon</strong>图标有这么多格式和用法，顺便还发现这个神仙网站能够一次制作和生成各种图标，于是就有了这样做的想法，虽然没有该有的功能，但是好看啊🤣🤣🤣，这样在手机电脑上打开自己的网站就像打开软件一样方便啦！！！<br>就暂且叫它 <strong>仿PWA应用</strong> 哈哈！！！</p><h3 id="所需工具"><a href="#所需工具" class="headerlink" title="所需工具"></a>所需工具</h3><ol><li><p>一台电脑一双手</p></li><li><p>一个网站: </p><blockquote><p><a href="https://realfavicongenerator.net/">https://realfavicongenerator.net/</a><br>&amp;&amp;<br><a href="https://www.websiteplanet.com/zh-hans/webtools/favicon-generator/">https://www.websiteplanet.com/zh-hans/webtools/favicon-generator/</a></p></blockquote></li></ol><h2 id="第一步-获取图标和安装代码"><a href="#第一步-获取图标和安装代码" class="headerlink" title="第一步 - 获取图标和安装代码"></a>第一步 - 获取图标和安装代码</h2><p>准备一张分辨率大于等于<code>260x260</code>的网站图标图片。</p><p><img src="/img/a4fb/xianz.webp" alt="tub"></p><p>然后进入网站: <a href="https://realfavicongenerator.net/">https://realfavicongenerator.net/</a> </p><p><img src="/img/a4fb/sc.webp" alt="SC"></p><p>上传准备好的图片并根据自己的喜好选择制作各平台的 Favicon （只是手动调整一些参数并不要我们制作）</p><p>调整好后点击 <strong>Generate your Favicons and HTML code</strong> 开始制作生成图标和 favicon 代码</p><p>随后 website或项目类型选择资源</p><p>这里我们网站选择 <strong>HTML5</strong> 即可，然后点击 <strong>Favicon package</strong> 下载图标并复制代码</p><p><img src="/img/a4fb/install.webp" alt="install"></p><h2 id="第二步-配置资源"><a href="#第二步-配置资源" class="headerlink" title="第二步 - 配置资源"></a>第二步 - 配置资源</h2><p>将下载的图标包放入站点<code>source</code>目录下或者你所希望的位置，我的是在<code>\source\images\favicon</code>下</p><p>将复制的代码放入<code>head.ejs</code>中</p><p>以下代码做了修改增删</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt; <span class="attr">--</span> 其他代码 <span class="attr">--</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">type</span>=<span class="string">&quot;image/png&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;16x16&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon/favicon-16x16.png&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">type</span>=<span class="string">&quot;image/png&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;32x32&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon/favicon-32x32.png&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;60x60&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon/apple-touch-icon-60x60.png&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;76x76&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon/apple-touch-icon-76x76.png&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;120x120&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon/apple-touch-icon-120x120.png&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;152x152&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon/apple-touch-icon-152x152.png&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;180x180&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon/apple-touch-icon-180x180.png&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;android-chrome-icon&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;60x60&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon/android-chrome-icon-60x60.png&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;android-chrome-icon&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;192x192&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon/android-chrome-icon-192x192.png&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;manifest&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon/site.webmanifest&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;mask-icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon/safari-pinned-tab.svg&quot;</span> <span class="attr">color</span>=<span class="string">&quot;#5bbad5&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;msapplication-config&quot;</span> <span class="attr">content</span>=<span class="string">&quot;/favicon/browserconfig.xml&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;msapplication-TileImage&quot;</span> <span class="attr">content</span>=<span class="string">&quot;/favicon/mstile-150x150.png&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;msapplication-TileColor&quot;</span> <span class="attr">content</span>=<span class="string">&quot;#2d89ef&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;theme-color&quot;</span> <span class="attr">content</span>=<span class="string">&quot;#ffffff&quot;</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt; <span class="attr">--</span> 其他代码 <span class="attr">--</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><p>以上仅作示范，图标位置需要具体填写！！</p><p>仿造<code>manifest.json</code>修改图标包中的<code>site.webmanifest</code>文件为</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Senorui&#x27;s Blog&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;short_name&quot;</span>: <span class="string">&quot;Senorui&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;theme_color&quot;</span>: <span class="string">&quot;#ffffff&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;background_color&quot;</span>: <span class="string">&quot;#ffffff&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;display&quot;</span>: <span class="string">&quot;fullscreen&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;orientation&quot;</span>: <span class="string">&quot;portrait&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;Scope&quot;</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;start_url&quot;</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;icons&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/favicon/apple-touch-icon-76x76.png&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;76x76&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/favicon/apple-touch-icon-120x120.png&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;120x120&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/favicon/apple-touch-icon-152x152.png&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;152x152&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/favicon/android-chrome-192x192.png&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;192x192&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上代码修改博客名和图标位置即可。</p><p>部署后，检测一下</p><p>我的图标分辨率不够，有几个没有生成也就检测不到</p><p><img src="/img/a4fb/ck.webp" alt="jc"></p><h2 id="第三步-手动使用"><a href="#第三步-手动使用" class="headerlink" title="第三步 - 手动使用"></a>第三步 - 手动使用</h2><p>在浏览器中打开博客首页</p><h3 id="Chrome"><a href="#Chrome" class="headerlink" title="Chrome"></a>Chrome</h3><p>点击右上角三点 → 更多工具 → 创建快捷方式</p><p><img src="/img/a4fb/chrome-us.webp" alt="chrome"></p><p>Chrome在地址栏输入<code>Chrome://apps</code>即可查看和管理应用。</p><h3 id="Edge"><a href="#Edge" class="headerlink" title="Edge"></a>Edge</h3><p>点击右上角三点 → 应用 → 将此站作为应用安装</p><p><img src="/img/a4fb/edg-us.webp" alt="edg"></p><p>Edge在地址栏输入<code>edge://apps</code>即可查看和管理应用。</p><p><strong>电脑端效果</strong></p><p><img src="/img/a4fb/xiaoguo.webp" alt="last"></p><p><strong>以上两浏览器区别:</strong></p><ol><li><p>Edge有把网站安装成应用的功能按钮，但不会在桌面建立快捷方式。</p></li><li><p>Chrome是建立快捷方式的同时也把网站安装成应用。</p></li><li><p>但都能成功调用图标(分辨率128x128)</p></li></ol><h3 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h3><p>安卓端(华为平板)安装测试了华为浏览器、Chrome、Firefox、Yandex、Via、QQ浏览器、UC浏览器和360浏览器，只有 <strong>Chrome、Firefox、Yandex和华为浏览器</strong> 将网站发送到手机桌面能显示应用图标，其他浏览器均不会显示应用图标（说的就是某些国产大厂浏览器，啊呸！都去做推广广告赚钱去了呗）！！！</p><p>下面以华为浏览器简单举例设置桌面应用式的快捷方式。</p><p><strong>Huawei Browser</strong></p><p>点击右上角三点 → 添加至…或者添加至桌面即可</p><p><img src="/img/a4fb/huaweipad-us.webp" alt="Huawei Browser"></p><p><img src="/img/a4fb/huaweipad-us1.webp" alt="Huawei Browser"></p><p><strong>浏览器书签效果</strong></p><p><img src="/img/a4fb/huaweipad.webp.webp" alt="Huawei Browser"></p><p><strong>安卓桌面效果</strong></p><p><img src="/img/a4fb/huaweipad1.webp" alt="Huawei Browser"></p><div class="note danger"><p><strong>PS:</strong><br>这几个浏览器测试过程坎坷啊，因为华为Mate pad安装应用后默认关闭所有权限，只有使用时app自动弹出开启才会开，然而创建快捷方式的权限一直没有触发开启，有好几个让我一直以为 <strong>发送到主屏幕</strong> 只是发到浏览器主页上🤔🤔🤔</p><p>最牛皮的是QQ和UC(UC还没测试完就卸载了)要先收藏网站，收藏网站又需要登录账号，然后才能发送到桌面………</div></p><h2 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h2><p>因为不存在 <strong>service worker</strong>文件，也就没有离线缓存能力！！</p><p>可以说这只是一个好看得多的快捷方式，有一些 PWA 的样子和特性，只是徒有其表！</p>]]></content>
    
    
    <summary type="html">三步让你的博客能够安装成一个假的PWA应用，可以说这只是一个好看得多的快捷方式，有一些PWA的特性，不过只是徒有其表！</summary>
    
    
    
    <category term="烟岚云岫" scheme="https://senorui.top/categories/%E7%83%9F%E5%B2%9A%E4%BA%91%E5%B2%AB/"/>
    
    
    <category term="Hexo博客" scheme="https://senorui.top/tags/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="PWA" scheme="https://senorui.top/tags/PWA/"/>
    
  </entry>
  
  <entry>
    <title>一个实用有趣的头像制作网站</title>
    <link href="https://senorui.top/posts/d7e8.html"/>
    <id>https://senorui.top/posts/d7e8.html</id>
    <published>2020-08-22T08:26:46.000Z</published>
    <updated>2020-09-26T07:47:25.143Z</updated>
    
    <content type="html"><![CDATA[<div class="note info">Picrew是一个图像制作平台，根据他们提供的模板或者插画来绘制属于自己的动漫头像。<p>最重要的是根据你选择的模板类型，最终做出来的头像也是免费且可商用的!</p></div><p><strong><div class="note info no-icon"><br>网站: <a href="https://picrew.me/">https://picrew.me/</a></div></strong></p><p>头像制作很简单，选个喜欢的模板就可以开始了，然后根据个人喜好制作即可。</p><p><img src="/img/d7e8/first.webp" alt="start"></p><p>最后出图，如下</p><p><img src="/img/d7e8/filish1.webp" alt="last"></p><p><img src="/img/d7e8/filish.png" alt="last"></p><p>图片分享链接: <a href="https://picrew.me/share?cd=ihewF6OztK">https://picrew.me/share?cd=ihewF6OztK</a></p><p>附上做的其他图</p><div class="note primary no-icon">头像分享链接:<p><a href="https://picrew.me/share?cd=04TXwWSiX0">https://picrew.me/share?cd=04TXwWSiX0</a></p><p><a href="https://picrew.me/share?cd=rPFFyzbPcL">https://picrew.me/share?cd=rPFFyzbPcL</a></p><p><a href="https://picrew.me/share?cd=5dflrsYuWy">https://picrew.me/share?cd=5dflrsYuWy</a></p><p><a href="https://picrew.me/share?cd=LtTGdKZmBu">https://picrew.me/share?cd=LtTGdKZmBu</a></p><p><a href="https://picrew.me/share?cd=SagKu26vl1">https://picrew.me/share?cd=SagKu26vl1</a></p></div><p>头像顺序展示</p><p><img src="https://cdn.picrew.me/app/share/202008/316632_LFC1b0MB.png"></p><p><img src="https://cdn.picrew.me/app/share/202008/316632_lgPne9BP.png"></p><p><img src="https://cdn.picrew.me/app/share/202008/192749_AEucBEjg.png"></p><p><img src="https://cdn.picrew.me/app/share/202008/185483_Z7L3BHdp.png"></p><p><img src="https://cdn.picrew.me/app/share/202008/146802_2Jny54Kn.png"></p><p><strong>最后！！！</strong></p><p>制作好的头像支持HTTPS链接直接引用，而且还是CDN加速链接，速度很快，用来作网站博客的头像非常不错！！！</p><blockquote><p>本次制作头像图片链接:<br> <a href="https://share-cdn.picrew.me/app/share/202008/168503_R6K1Ookc.png">https://share-cdn.picrew.me/app/share/202008/168503_R6K1Ookc.png</a><br> <a href="https://cdn.picrew.me/app/share/202008/168503_R6K1Ookc.png">https://cdn.picrew.me/app/share/202008/168503_R6K1Ookc.png</a></p></blockquote><p>以上两个链接都是同一个图片，第一个是制作完成时展示图的CDN链接，另一个是通过图片分享链接打开后的图片所在的CDN链接，估计是两种方式的图片资源在服务器上做了区分。</p>]]></content>
    
    
    <summary type="html">Picrew 是一个图像制作平台，根据他们提供的模板或者插画来绘制属于自己的动漫头像。</summary>
    
    
    
    <category term="花晨月夕" scheme="https://senorui.top/categories/%E8%8A%B1%E6%99%A8%E6%9C%88%E5%A4%95/"/>
    
    
    <category term="Picrew" scheme="https://senorui.top/tags/Picrew/"/>
    
    <category term="头像制作" scheme="https://senorui.top/tags/%E5%A4%B4%E5%83%8F%E5%88%B6%E4%BD%9C/"/>
    
    <category term="实用工具" scheme="https://senorui.top/tags/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>本站所用插件汇总</title>
    <link href="https://senorui.top/posts/e682.html"/>
    <id>https://senorui.top/posts/e682.html</id>
    <published>2020-08-14T06:14:22.000Z</published>
    <updated>2020-09-26T07:57:07.903Z</updated>
    
    <content type="html"><![CDATA[<div class="note info">在此将本站所用插件进行一个汇总，并记录插件功能及其配置方法。<p><strong>以便不时之需！！！</strong></div></p><h2 id="hexo-deployer-git"><a href="#hexo-deployer-git" class="headerlink" title="hexo-deployer-git"></a>hexo-deployer-git</h2><p>必装插件，用于将hexo生成的静态文件提交到Github仓库。</p><p>安装:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>用法:</p><p>修改根目录config.yml文件中的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">-  type: git</span><br><span class="line">   repo:</span><br><span class="line">     github: git@github.com:Senorui&#x2F;senorui.github.io.git</span><br><span class="line">   branch: master</span><br></pre></td></tr></table></figure><h2 id="hexo-abbrlink"><a href="#hexo-abbrlink" class="headerlink" title="hexo-abbrlink"></a>hexo-abbrlink</h2><p>此插件可以固定文章链接，使文章URL唯一化，有利于SEO。</p><p>插件地址: <a href="https://github.com/rozbo/hexo-abbrlink">https://github.com/rozbo/hexo-abbrlink</a></p><p>安装:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><p>使用：</p><p>修改根目录config.yml文件中的永久链接为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">permalink: posts&#x2F;:abbrlink&#x2F;</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc16 # 算法：crc16(default) and crc32</span><br><span class="line">  rep: hex # 进制：dec(default) and hex</span><br><span class="line">&amp;</span><br><span class="line">permalink: posts&#x2F;:abbrlink.html</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc16 # 算法：crc16(default) and crc32</span><br><span class="line">  rep: hex # 进制：dec(default) and hex</span><br></pre></td></tr></table></figure><p>alg – Algorithm,rep – Represent参数如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">crc16 &amp; hex</span><br><span class="line">https:&#x2F;&#x2F;post.zz173.com&#x2F;posts&#x2F;66c8.html</span><br><span class="line"></span><br><span class="line">crc16 &amp; dec</span><br><span class="line">https:&#x2F;&#x2F;post.zz173.com&#x2F;posts&#x2F;65535.html</span><br><span class="line">crc32 &amp; hex</span><br><span class="line">https:&#x2F;&#x2F;post.zz173.com&#x2F;posts&#x2F;8ddf18fb.html</span><br><span class="line"></span><br><span class="line">crc32 &amp; dec</span><br><span class="line">https:&#x2F;&#x2F;post.zz173.com&#x2F;posts&#x2F;1690090958.html</span><br></pre></td></tr></table></figure><h2 id="hexo-addlink-x"><a href="#hexo-addlink-x" class="headerlink" title="hexo-addlink (x)"></a>hexo-addlink (x)</h2><p>本插件可以在文章尾部添加当前文章链接，注明版权，有利于SEO。</p><p>插件地址: <a href="https://github.com/acwong00/hexo-addlink">https://github.com/acwong00/hexo-addlink</a></p><p>安装:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-addlink --save</span><br></pre></td></tr></table></figure><p>使用：</p><p>根目录config.yml文件中添加</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 版权信息</span><br><span class="line">addlink:</span><br><span class="line">  before_text: __本文作者__： <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;作者地址（一般为本站地址）&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>Senorui<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span>__本文地址__： </span><br><span class="line">  after_text: <span class="tag">&lt;<span class="name">br</span>/&gt;</span>__版权声明__： 本博客所有文章除特别声明外，均为原创且采用 <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://creativecommons.org/licenses/by/4.0/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;external nofollow noopener noreferrer&quot;</span>&gt;</span>知识共享署名4.0<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 国际许可协议进行许可<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note danger">此插件不适配 Hexo 5.0，作者和声明标题样式会缺失；不排除是我主题不适配！！</div><h2 id="hexo-autonofollow"><a href="#hexo-autonofollow" class="headerlink" title="hexo-autonofollow"></a>hexo-autonofollow</h2><p>为所有外部链接添加<code>rel =“ external nofollow”</code>，并添加<code>target =“ _ blank”</code>使其在新窗口或新标签中打开外部链接，有利于SEO。</p><p>地址: <a href="https://github.com/liuzc/hexo-autonofollow">https://github.com/liuzc/hexo-autonofollow</a></p><p>安装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-autonofollow --save</span><br></pre></td></tr></table></figure><p>使用：</p><p>根目录config.yml文件中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 外链添加nofollow标签</span><br><span class="line">nofollow:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - senorui.top #本站域名</span><br></pre></td></tr></table></figure><h2 id="hexo-external-link-x"><a href="#hexo-external-link-x" class="headerlink" title="hexo-external-link (x)"></a>hexo-external-link (x)</h2><p>跳转外链相关插件。自动为所有html文件中外链的a标签生成对应的属性。 比如设置 <code>target=&#39;_blank&#39;, rel=&#39;external nofollow noopener noreferrer&#39; </code>告诉搜索引擎这是外部链接,不要将该链接计入权重。 同时自动生成外链跳转页面,默认在根目录下go.html;</p><p>插件地址： <a href="https://github.com/hvnobug/hexo-external-link">https://github.com/hvnobug/hexo-external-link</a></p><p>安装:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-external-link --save</span><br></pre></td></tr></table></figure><p>使用:</p><p>在根目录config.yml文件中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 外链跳转</span><br><span class="line">hexo_external_link:</span><br><span class="line">  enable: true</span><br><span class="line">  enable_base64_encode: false</span><br><span class="line">  url_param_name: &#39;url&#39;</span><br><span class="line">  html_file_name: &#39;go.html&#39;</span><br><span class="line">  target_blank: true</span><br><span class="line">  link_rel: &#39;external nofollow noopener noreferrer&#39;</span><br><span class="line">  domain: &#39;&#39; # 如果开启了防盗链，填写你的域名</span><br><span class="line">  safety_chain: true</span><br></pre></td></tr></table></figure><p>参数</p><table><thead><tr><th align="center">变量</th><th align="center">默认</th><th align="left">说明</th></tr></thead><tbody><tr><td align="center">enable</td><td align="center">false</td><td align="left">是否开启本插件</td></tr><tr><td align="center">enable_base64_encode</td><td align="center">false</td><td align="left">是否对跳转url使用base64编码</td></tr><tr><td align="center">url_param_name</td><td align="center">u</td><td align="left">url参数名,在跳转到外链传递给html_file_name的参数名</td></tr><tr><td align="center">html_file_name</td><td align="center">go.html</td><td align="left">跳转到外链的页面文件路径</td></tr><tr><td align="center">target_blank</td><td align="center">true</td><td align="left">是否为外链的a标签添加<code>target=&#39;_blank&#39;</code></td></tr><tr><td align="center">link_rel</td><td align="center">external nofollow noopener noreferrer</td><td align="left">设置外链的a标签的rel属性</td></tr><tr><td align="center">domain</td><td align="center">window.location.host 或者为空</td><td align="left">如果开启了防盗链,除了 localhost 和 domain 之外调用会跳到主页,同时也是判断链接是否为外链的依据</td></tr><tr><td align="center">safety_chain</td><td align="center">true</td><td align="left">go.html 为了防止外链盗用 对域名进行的判断</td></tr></tbody></table><h2 id="hexo-generator-feed"><a href="#hexo-generator-feed" class="headerlink" title="hexo-generator-feed"></a>hexo-generator-feed</h2><p>为hexo博客添加RSS订阅功能</p><p>插件地址: <a href="https://github.com/hexojs/hexo-generator-feed">https://github.com/hexojs/hexo-generator-feed</a></p><p>安装:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><p>使用：</p><p>在根目录config.yml文件中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line">  hub:</span><br><span class="line">  content:</span><br><span class="line">  content_limit: 140</span><br><span class="line">  content_limit_delim: &#39; &#39;</span><br><span class="line">  order_by: -date</span><br><span class="line">  icon: icon.png</span><br><span class="line">  autodiscovery: true</span><br><span class="line">  template:</span><br></pre></td></tr></table></figure><p>集成RSS订阅功能的主题，直接安装此插件，在主题配置文件中修改RSS链接为 <code>/atom.xml</code> 即可，无需在根目录下配置。</p><h2 id="hexo-generator-sitemap"><a href="#hexo-generator-sitemap" class="headerlink" title="hexo-generator-sitemap"></a>hexo-generator-sitemap</h2><p>为hexo博客添加站点地图文件<code>sitemap</code></p><p>插件地址: <a href="https://github.com/hexojs/hexo-generator-sitemap">https://github.com/hexojs/hexo-generator-sitemap</a></p><p>安装:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><p>使用:</p><p>在根目录config.yml文件中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br><span class="line">  template: .&#x2F;sitemap_template.xml</span><br><span class="line">  rel: false</span><br><span class="line">  tags: true</span><br><span class="line">  categories: true</span><br></pre></td></tr></table></figure><p>若要排除文章或者页面，只需添加<code>sitemap: false</code>到文章或者页面的 front matter 处即可。</p><div class="note info">另有 hexo-generator-baidusitemap 插件，其生成百度特殊站点地图文件 baidusitemap.xml</div><h2 id="hexo-git-backup"><a href="#hexo-git-backup" class="headerlink" title="hexo-git-backup"></a>hexo-git-backup</h2><p>博客源码一键备份到Gihub仓库等源码托管平台的插件。</p><p>插件地址: <a href="https://github.com/coneycode/hexo-git-backup">https://github.com/coneycode/hexo-git-backup</a></p><p>安装:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-git-backup --save</span><br></pre></td></tr></table></figure><p>若Hexo版本低于3.0，则安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-git-backup@0.0.91 --save</span><br></pre></td></tr></table></figure><p>使用:</p><p>在根目录config.yml文件中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Backup 源码备份</span><br><span class="line">backup:</span><br><span class="line">    type: git</span><br><span class="line">    theme: fexo #主题名</span><br><span class="line">    message: 新文章发表 #备份说明</span><br><span class="line">    repository:</span><br><span class="line">       github: git@github.com:Senorui&#x2F;Blog.git,Blog</span><br></pre></td></tr></table></figure><p>执行命令即可一键发布文章并备份源码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d &amp;&amp; hexo b</span><br></pre></td></tr></table></figure><h2 id="hexo-neat"><a href="#hexo-neat" class="headerlink" title="hexo-neat"></a>hexo-neat</h2><p>压缩和删除html或其他脚本中的空格和无用的换行符，注释等，以减少网页文件的响应速度，实现网络的快速响应。</p><p>插件地址: <a href="https://github.com/rozbo/hexo-neat">https://github.com/rozbo/hexo-neat</a></p><p>安装: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-neat --save</span><br></pre></td></tr></table></figure><p>用法:</p><p>在根目录config.yml文件中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># hexo-neat</span><br><span class="line">neat_enable: true</span><br><span class="line"># 压缩 html</span><br><span class="line">neat_html:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line"># 压缩 css</span><br><span class="line">neat_css:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - &#39;**&#x2F;*.min.css&#39;</span><br><span class="line">    - &#39;**&#x2F;*.css.map&#39;</span><br><span class="line"># 压缩 js</span><br><span class="line">neat_js:</span><br><span class="line">  enable: true</span><br><span class="line">  mangle: true</span><br><span class="line">  output:</span><br><span class="line">  compress:</span><br><span class="line">  exclude:</span><br><span class="line">    - &#39;**&#x2F;*.min.js&#39;</span><br></pre></td></tr></table></figure><p>根据自己的来合理调整压缩和不需要压缩的文件。</p><h2 id="hexo-helper-live2d"><a href="#hexo-helper-live2d" class="headerlink" title="hexo-helper-live2d"></a>hexo-helper-live2d</h2><p>向你的Hexo里放上一只萌萌哒二次元看板娘！</p><p>插件地址: <a href="https://github.com/EYHN/hexo-helper-live2d">https://github.com/EYHN/hexo-helper-live2d</a></p><p>安装依赖: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-helper-live2dc --save</span><br></pre></td></tr></table></figure><p>安装模型:</p><p>模型仓库地址: <a href="https://github.com/xiazeyu/live2d-widget-models">https://github.com/xiazeyu/live2d-widget-models</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install &#123;packagename&#125;</span><br><span class="line"># e.g</span><br><span class="line">npm install live2d-widget-model-koharu</span><br></pre></td></tr></table></figure><p>在根目录config.yml文件中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 看板娘</span><br><span class="line">live2d:</span><br><span class="line">  enable: true #是否开启看板娘</span><br><span class="line">  scriptFrom: local</span><br><span class="line">  pluginRootPath: live2dw&#x2F;</span><br><span class="line">  pluginJsPath: lib&#x2F;</span><br><span class="line">  pluginModelPath: assets&#x2F;</span><br><span class="line">  tagMode: false</span><br><span class="line">  debug: false</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-koharu  #换成自己安装的模型</span><br><span class="line">  display:</span><br><span class="line">    position: left #显示在左or右</span><br><span class="line">    width: 158</span><br><span class="line">    height: 233</span><br><span class="line">  mobile:</span><br><span class="line">    show: false # 是否在移动设备上显示</span><br><span class="line">    scale: 0.4 # 移动设备上的缩放</span><br><span class="line">  react:</span><br><span class="line">    opacityDefault: 0.7</span><br><span class="line">    opacityOnHover: 0.4</span><br></pre></td></tr></table></figure><h2 id="hexo-search"><a href="#hexo-search" class="headerlink" title="hexo-search"></a>hexo-search</h2><p>为博客添加站内搜索功能，此插件为本主题 <strong>【<a href="https://github.com/forsigner/fexo">Fexo</a>】</strong>作者写的，优先适配本主题。</p><p>插件地址: <a href="https://github.com/forsigner/hexo-search">https://github.com/forsigner/hexo-search</a></p><p>安装:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-search --save</span><br></pre></td></tr></table></figure><p>在根目录config.yml文件中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.json</span><br><span class="line">  source: all # other values: posts, pages</span><br><span class="line">  trim_html: false</span><br></pre></td></tr></table></figure><p>其他主题推荐另一个大众化一点的: <a href="https://github.com/wzpan/hexo-generator-search">https://github.com/wzpan/hexo-generator-search</a></p><h2 id="hexo-wordcount"><a href="#hexo-wordcount" class="headerlink" title="hexo-wordcount"></a>hexo-wordcount</h2><p>可以为文章添加字数统计和阅读时长统计，以及站点总字数统计。</p><p>插件地址: <a href="https://github.com/willin/hexo-wordcount">https://github.com/willin/hexo-wordcount</a></p><p>安装: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure><p>使用:</p><p><strong>Swig</strong><br>Post Count:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;post-count&quot;&gt;&#123;&#123; wordcount(post.content) &#125;&#125;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure><p>Post Minutes to Read:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;post-count&quot;&gt;&#123;&#123; min2read(post.content) &#125;&#125;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure><p>Total Count:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;post-count&quot;&gt;&#123;&#123; totalcount(site) &#125;&#125;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure><p><strong>Ejs</strong><br>Post Count:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;post-count&quot;&gt;&lt;%&#x3D; wordcount(post.content) %&gt;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure><p>Post Minutes to Read:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;post-count&quot;&gt;&lt;%&#x3D; min2read(post.content) %&gt;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure><p>Total Count:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;post-count&quot;&gt;&lt;%&#x3D; totalcount(site) %&gt;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure><p><strong>Jade</strong><br>Post Count:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">span.post-count&#x3D; wordcount(post.content)</span><br></pre></td></tr></table></figure><p>Post Minutes to Read:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">span.post-count&#x3D; min2read(post.content)</span><br></pre></td></tr></table></figure><p>Total Count:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">span.post-count&#x3D; totalcount(site)</span><br></pre></td></tr></table></figure><p>本站主题适配为在<code>article.ejs</code>中的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial(&#39;component&#x2F;category&#39;) %&gt;</span><br></pre></td></tr></table></figure><p>之后插入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;span class&#x3D;&quot;post-count&quot;&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">           &lt;i class&#x3D;&quot;fa fa-file-word&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">           &amp;nbsp字数 &lt;%&#x3D; wordcount(post.content) %&gt;</span><br><span class="line">        &lt;&#x2F;span&gt;</span><br><span class="line"></span><br><span class="line">      &lt;span class&#x3D;&quot;post-count&quot;&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">           &lt;i class&#x3D;&quot;fa fa-clock&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">           &amp;nbsp耗时 &lt;%&#x3D; min2read(post.content) %&gt; 分&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure><p>效果如下:</p><p><img src="/img/others/wordcount.webp" alt="wordcount"></p><h2 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h2><p>除了Hexo自带的插件之外，自己安装的插件中，有4个与SEO相关；其余1个美化类插件，4个工具型插件。</p><p>以上为本站所需插件！！！</p>]]></content>
    
    
    <summary type="html">本站所用插件汇总，以及记录插件功能及其配置方法。</summary>
    
    
    
    <category term="烟岚云岫" scheme="https://senorui.top/categories/%E7%83%9F%E5%B2%9A%E4%BA%91%E5%B2%AB/"/>
    
    
    <category term="Hexo博客" scheme="https://senorui.top/tags/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="Hexo插件" scheme="https://senorui.top/tags/Hexo%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>Valine-Admin评论系统的安装使用以及美化</title>
    <link href="https://senorui.top/posts/7bde.html"/>
    <id>https://senorui.top/posts/7bde.html</id>
    <published>2020-08-07T10:14:22.000Z</published>
    <updated>2020-09-26T07:42:16.040Z</updated>
    
    <content type="html"><![CDATA[<div class="note info">博客也运行了这么久，还是弄个评论系统吧</div><p>【<a href="https://valine.js.org/"><strong>Valine</strong></a>】: 一种快速，简洁且高效的无预设评论系统。</p><p>Valine诞生于2017年8月7日，是一种基于LeanCloud的快速，简洁且高效的无标题评论系统。</p><p>理论上支持但不限于静态博客，目前已有Hexo，Jekyll，Typecho，Hugo，Ghost等博客程序在使用Valine</p><h2 id="安装Valine"><a href="#安装Valine" class="headerlink" title="安装Valine"></a>安装Valine</h2><h3 id="主题已集成Valine"><a href="#主题已集成Valine" class="headerlink" title="主题已集成Valine"></a>主题已集成Valine</h3><p>PS: 不过目前大多数主题都已集成Valine</p><p>在主题根目录下的配置文件<code>-config.yml</code>文件中启用Valine</p><p><img src="/img/7bde/true.webp" alt="true"></p><p>并在配置项里填入<code>appid</code>和<code>appkey</code>的值即可</p><p><strong><div class="note primary">关于如何获取这两值后文会说到，若您主题已经集成此评论可直接右边目录跳转【配置与使用】阅读。</div></strong></p><h3 id="主题未集成Valine"><a href="#主题未集成Valine" class="headerlink" title="主题未集成Valine"></a>主题未集成Valine</h3><p>在主题目录<code>_partial</code>下新建<code>valine.ejs</code>文件，有的可能需要新建在<code>_partial/component/</code>或者<code>_partial/post/</code>下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;vcomment&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;comment&quot;</span>&gt;&lt;/div&gt; </span><br><span class="line">&lt;script src=<span class="string">&quot;//cdn1.lncld.net/static/js/3.0.4/av-min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=<span class="string">&quot;//unpkg.com/valine/dist/Valine.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">   <span class="keyword">var</span> notify = <span class="string">&#x27;&lt;%= theme.valine.notify %&gt;&#x27;</span> == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">   <span class="keyword">var</span> verify = <span class="string">&#x27;&lt;%= theme.valine.verify %&gt;&#x27;</span> == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Valine(&#123;</span><br><span class="line">            el: <span class="string">&#x27;.comment&#x27;</span>,</span><br><span class="line">            notify: notify,</span><br><span class="line">            verify: verify,</span><br><span class="line">            app_id: <span class="string">&quot;&lt;%= theme.valine.appid %&gt;&quot;</span>,</span><br><span class="line">            app_key: <span class="string">&quot;&lt;%= theme.valine.appkey %&gt;&quot;</span>,</span><br><span class="line">            placeholder: <span class="string">&quot;&lt;%= theme.valine.placeholder %&gt;&quot;</span>,</span><br><span class="line">            avatar:<span class="string">&quot;&lt;%= theme.valine.avatar %&gt;&quot;</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>在<code>comments.ejs</code>文件的<code>&lt;/div&gt;</code>前新增</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial(&#39;valine&#39;) %&gt;</span><br></pre></td></tr></table></figure><p><img src="/img/7bde/addvl.webp" alt="addvl"></p><p>没有此文件则新建一个，写入如下代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;comments &lt;%&#x3D; className %&gt;&quot;&gt;</span><br><span class="line">  &lt;%- partial(&#39;valine&#39;) %&gt;</span><br><span class="line">  </span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><p>再在<code>layout.ejs</code>中<code>&lt;/body&gt;</code>之前引入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.post.showComments &amp;&amp; page.layout &#x3D;&#x3D;&#x3D; &#39;post&#39;)&#123; %&gt;</span><br><span class="line">  &lt;%- partial(&#39;_partial&#x2F;component&#x2F;comments&#39;, &#123;className: &#39;comments-post&#39;&#125;) %&gt;</span><br><span class="line">&lt;% &#125; else if (page.comments) &#123; %&gt;</span><br><span class="line">  &lt;%- partial(&#39;_partial&#x2F;component&#x2F;comments&#39;, &#123;className: &#39;comments-&#39; + page.layout&#125;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>完成以上，再到主题配置文件<code>-config.yml</code>下引入配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">valine:</span><br><span class="line">  enable: true # false关闭Valine</span><br><span class="line">  appid:  # your leancloud application appid</span><br><span class="line">  appkey:  # your leancloud application appkey</span><br><span class="line">  admin_email: </span><br><span class="line">  notify:true, </span><br><span class="line">  verify:false, </span><br><span class="line">  placeholder: (｡･∀･)ﾉﾞ嗨！欢迎评论呀！ # comment box placeholder</span><br><span class="line">  avatar: monsterid # gravatar style</span><br><span class="line">  guest_info: nick,mail,link # custom comment header</span><br><span class="line">  pageSize: 10 # pagination size</span><br></pre></td></tr></table></figure><p><strong><div class="note danger">注：有的主题<code>comments.ejs</code>的代码可能要引入到<code>article.ejs</code>或者<code>post.ejs</code>中去，即不需要建<code>comments.ejs</code>文件。</div></strong></p><h2 id="配置使用"><a href="#配置使用" class="headerlink" title="配置使用"></a>配置使用</h2><h3 id="获取appid和appkey"><a href="#获取appid和appkey" class="headerlink" title="获取appid和appkey"></a>获取<code>appid</code>和<code>appkey</code></h3><p>由于其是基于LeanCloud的无后端的评论系统，所以我们需要去注册<strong>【<a href="https://leancloud.cn/dashboard/login.html#/signup">LeanCloud</a>】</strong>获取<code>appid</code>和<code>appkey</code>。</p><p>注册账号后即可创建一个应用</p><p>若使用国内版需要邮箱激活，并且实名认证，推荐使用国际版。</p><p><img src="/img/7bde/addAPP.webp" alt="addAPP"></p><p>进入刚刚创建的应用→设置→选择应用 Keys，即可能看到<code>AppID</code>和<code>AppKey</code></p><p><img src="/img/7bde/IK.webp" alt="I&amp;K"></p><h3 id="快速部署"><a href="#快速部署" class="headerlink" title="快速部署"></a>快速部署</h3><p>原版的Valine并不能满足我的需求，而<strong>Valine Admin</strong> 是 Valine 评论系统的扩展和增强，主要实现评论邮件通知、评论管理、垃圾评论过滤等功能。</p><p>所以使用的是 <strong>DesertsP</strong>大佬的<strong>【<a href="https://github.com/DesertsP/Valine-Admin">Valine-Admin</a>】</strong>！</p><h4 id="环境变量和web域名设置"><a href="#环境变量和web域名设置" class="headerlink" title="环境变量和web域名设置"></a>环境变量和web域名设置</h4><p>在刚刚创建的应用后台→云引擎→设置，添加环境变量以及web域名</p><p><img src="/img/7bde/adden.webp" alt="adden"></p><p>环境变量参数说明，除可选外其余为必填项，以下变量一定要保证正确!!!</p><table><thead><tr><th>变量</th><th>示例</th><th>说明</th></tr></thead><tbody><tr><td>SITE_NAME</td><td>Senorui’s Blog</td><td>站点名称</td></tr><tr><td>SITE_URL</td><td><a href="https://senorui.top/">https://senorui.top</a></td><td>站点地址</td></tr><tr><td>SMTP_USER</td><td><a href="mailto:&#120;&#120;&#x78;&#x78;&#64;&#115;&#101;&#x6e;&#111;&#114;&#117;&#x69;&#46;&#x63;&#111;&#109;">&#120;&#120;&#x78;&#x78;&#64;&#115;&#101;&#x6e;&#111;&#114;&#117;&#x69;&#46;&#x63;&#111;&#109;</a></td><td>SMTP登录用户</td></tr><tr><td>SMTP_PASS</td><td>xxxxxx</td><td>SMTP登陆密码</td></tr><tr><td>SMTP_SERVICE</td><td>Yandex</td><td>邮件服务提供商，支持QQ、163、126、Gmail以及<a href="https://nodemailer.com/smtp/well-known/#supported-services">更多</a></td></tr><tr><td>SENDER_NAME</td><td>Senorui</td><td>收件人</td></tr><tr><td>SENDER_EMAIL</td><td><a href="mailto:&#x78;&#120;&#x78;&#x78;&#x40;&#x73;&#101;&#110;&#111;&#x72;&#117;&#x69;&#x2e;&#99;&#x6f;&#x6d;">&#x78;&#120;&#x78;&#x78;&#x40;&#x73;&#101;&#110;&#111;&#x72;&#117;&#x69;&#x2e;&#99;&#x6f;&#x6d;</a></td><td>发件邮箱</td></tr><tr><td>AKISMET_KEY</td><td>xxxxxxxxxxxx</td><td>（可选）Akismet Key 用于垃圾评论检测，<a href="https://akismet.com/">注册</a></td></tr><tr><td>TEMPLATE_NAME</td><td>default</td><td>邮件主题，default &amp; rainbown两种</td></tr></tbody></table><p>在应用后台，设置→安全中心→Web 安全域名，设置使用域名即可</p><p><img src="/img/7bde/webd.webp" alt="webd"></p><h4 id="云引擎部署"><a href="#云引擎部署" class="headerlink" title="云引擎部署"></a>云引擎部署</h4><p>在应用后台，部署→部署项目→Git部署，填写Git地址<code>https://github.com/DesertsP/Valine-Admin.git</code>，分支选择master，点击部署即可。</p><p><img src="/img/7bde/yunhost.webp" alt="yunhost"></p><p><img src="/img/7bde/yunhost1.webp" alt="yunhost"></p><p><img src="/img/7bde/yunhost2.webp" alt="yunhost"></p><p><img src="/img/7bde/yunhosta.webp" alt="yunhost"></p><p>测试以下邮件通知是否正常</p><p><img src="/img/7bde/text.webp" alt="text"></p><p>测试正常，邮箱能正常收到评论通知，OVER!!!</p><p><img src="/img/7bde/texta.webp" alt="text"></p><p>在应用后台，设置→邮件模板处添加邮件模板，保证网站访问者和站长均能收到回复的邮件。</p><p>主题名</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(｡･∀･)ﾉﾞ嗨！你在&#123;&#123;appname&#125;&#125;的文章收到了新的评论</span><br></pre></td></tr></table></figure><p><img src="/img/7bde/mailmod.webp" alt="mailmod"></p><p>内容：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;Hi, &#123;&#123;username&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">你在 &#123;&#123;appname&#125;&#125; 的评论收到了新的回复，请点击查看：</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;a href=&quot;站点首页地址&quot; style=&quot;display: inline-block; padding: 10px 20px; border-radius: 4px; background-color: #3090e4; color: #fff; text-decoration: none;&quot;&gt;马上查看&lt;/a&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure><div class="note danger">注意： 做出以上配置信息修改后最好重启或者重新部署一下，以保证配置生效。</div><h2 id="评论美化"><a href="#评论美化" class="headerlink" title="评论美化"></a>评论美化</h2><p>(∪.∪ )…zzz</p><p>如何美化！超小白的我也是参考了大佬的博文，对本站主题进行了一点点点点的适配。</p><blockquote><p><strong>【博客Valine评论样式美化】:</strong> <a href="https://bestzuo.cn/posts/763113948.html">https://bestzuo.cn/posts/763113948.html</a></p></blockquote><p><strong>在此感谢大佬的分享！！！</strong></p><h3 id="表情包"><a href="#表情包" class="headerlink" title="表情包"></a>表情包</h3><p>官方的1.4+版本的Valine已经支持自定义表情包，可参阅<strong>【<a href="https://valine.js.org/emoji.html">官方文档</a>】</strong></p><p>大佬的JS里已经集成了众多的表情包，直接使用即可</p><h3 id="评论框背景图片"><a href="#评论框背景图片" class="headerlink" title="评论框背景图片"></a>评论框背景图片</h3><p>在博客CSS文件里加入评论样式代码即可</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#veditor</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(https://cdn.jsdelivr.net/gh/drew233/cdn/<span class="number">20200409110727</span>.webp); <span class="comment">/* 修改自己喜欢的图片链接即可 */</span></span><br><span class="line">    <span class="attribute">background-size</span>: contain;</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>: right;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="attribute">resize</span>: vertical</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 防止图片遮住输入框文字 */</span></span><br><span class="line"><span class="selector-id">#veditor</span><span class="selector-pseudo">:focus</span>&#123;</span><br><span class="line">  <span class="attribute">background-position-y</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.2s</span> ease-in-out <span class="number">0s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>让评论头像有动态性，给添加头像图片旋转效果</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 头像图片旋转效果 */</span></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-class">.vimg</span> &#123;</span><br><span class="line">     <span class="attribute">transition</span>: all <span class="number">1s</span>   <span class="comment">/* 旋转时间为 1s */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-class">.vimg</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">     <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">     <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">     <span class="attribute">-moz-transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">     <span class="attribute">-o-transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">     <span class="attribute">-ms-transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="博主、小伙伴、访客标识"><a href="#博主、小伙伴、访客标识" class="headerlink" title="博主、小伙伴、访客标识"></a>博主、小伙伴、访客标识</h3><p>这个要魔改的Valine才支持，此魔改版支持</p><ol><li><p>添加博主，小伙伴，访客标签</p></li><li><p>添加浏览器和操作系统图标，需引入 fontawesome v5.0+ 的 CSS 样式</p></li><li><p>邮箱检测更严格（配合AKISMET效果更佳）</p></li><li><p>增加 QQ 邮箱识别并拉取QQ头像</p></li><li><p>可自定义meta placeholder </p></li></ol><p>用法挺简单的，只需在<code>Valine.min.js</code>文件的<code>master</code>、<code>friends</code>下填写需要添加<strong>【<a href="https://www.sojson.com/encrypt_md5.html">MD5加密后</a>】</strong>的邮箱账号即可。</p><p>如下图，多个账号以数组形式添加即可。</p><p><img src="/img/7bde/mft.webp" alt="mft"></p><p>效果如图</p><p><img src="/img/7bde/last.webp" alt="last"></p><p><strong>【附下载】:</strong> <a href="https://senorui.top/js/Valine.min.js">Valine.min.js</a></p><h2 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h2><p>至此，Valine评论系统已趋向于完美。</p><p>在此再次感谢的大佬的分享！！！</p>]]></content>
    
    
    <summary type="html">Valine评论系统的安装使用及美化；包括增加评论和回复的邮件提醒、表情包库、评论框样式美化。</summary>
    
    
    
    <category term="烟岚云岫" scheme="https://senorui.top/categories/%E7%83%9F%E5%B2%9A%E4%BA%91%E5%B2%AB/"/>
    
    
    <category term="Valine" scheme="https://senorui.top/tags/Valine/"/>
    
    <category term="Valine配置" scheme="https://senorui.top/tags/Valine%E9%85%8D%E7%BD%AE/"/>
    
    <category term="Hexo博客" scheme="https://senorui.top/tags/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>什么是十五的月亮十四圆？</title>
    <link href="https://senorui.top/posts/7195.html"/>
    <id>https://senorui.top/posts/7195.html</id>
    <published>2020-08-03T15:59:59.000Z</published>
    <updated>2020-09-26T07:51:47.489Z</updated>
    
    <content type="html"><![CDATA[<p>平时的说法都是是“十五的月亮十六圆”，但是在庚子鼠年的农历六月里，十五的月亮却是“十四圆”，最圆时刻出现在2020年8月3日23时59分。</p><p>在21世纪这100年中，这种罕见的天文现象仅会出现6次，上一次出现在在2009年4月9日22时55分，而下次出现这种现象要到2037年6月27日23时19分。</p><p>要弄明白为什么会出现“十五的月亮十四圆”就要从月相说起。</p><div class="note info">何为月相？当地球位于月球和太阳之间时，我们可以看到整个被太阳直射的月球部分，这就是满月。当月球位于地球和太阳之间时，我们只能看到月球不被太阳照射的部分，这就是朔；而当首度再见到月球明亮的部分时，称为“新月”。当地月联线和日月联线正好成直角时，我们正好可以看到月球被太阳直射的部分的一半，这就是弦月（半月，因为月球亮部的圆弧如同弓柄，近似直线的黑影边缘如弓箭的弦，故得名）。月相的更替周期是29.53天，称为一个朔望月，它是历法中历月和星期的来源。这个时间比月球公转的时间（恒星月）要长，因为当月球绕地球公转时，地球也在绕太阳公转，一个朔望月月球大约要绕（360+360*29.53/365.24）=389.11度（公转只绕360度）。所以一恒星月大约为29.53 * 360 / 389.11 = 27.32天。</div><p><img src="/img/7195/Moon_phases.webp" alt="月相"><br>这是在北半球看见的月相，而在南半球看见的每一个都会是左右倒置的。</p><p>出现“十五的月亮十六圆”奇观的原因就是：<br>随着月相交替变换以及农历历法规定，“朔”所在这一天为每月初一，但同是初一，“朔”可能发生在凌晨，或者上午、下午，也可能发生在晚上，而且每个朔望月本身也有长有短，当到“望”的月相交替间隔与历法规定时间相差超过大概20小时（以北半球日落后可赏月时间推算）以上时就会出现“十五的月亮十四圆”这种奇观。所以月亮最圆时刻的“望”最早可发生在农历十四的晚上，最迟可出现在农历十七的早上。</p><p><strong>下面多图预警，今晚多云，趁月亮钻出云层时拍的！</strong></p><div class="note info">渣渣像素的手机，第一张为月亮刚刚出来时拍的，后面几张开了超级夜景模式拍的，所以要亮很多</div><p><img src="/img/7195/1.webp" alt="月"><br><img src="/img/7195/2.webp" alt="月"><br><img src="/img/7195/3.webp" alt="月"><br><img src="/img/7195/4.webp" alt="月"><br><img src="/img/7195/5.webp" alt="月"><br><img src="/img/7195/6.webp" alt="月"><br><img src="/img/7195/7.webp" alt="月"><br><img src="/img/7195/8.webp" alt="月"><br><img src="/img/7195/9.webp" alt="月"><br><img src="/img/7195/10.webp" alt="月"><br><img src="/img/7195/11.webp" alt="月"><br><img src="/img/7195/12.webp" alt="月"></p><p><strong>参考文章：</strong><br>【<a href="https://zh.wikipedia.org/wiki/%E6%9C%88%E7%9B%B8">维基百科：月相</a>】<br>【<a href="http://www.bjnews.com.cn/news/2020/08/03/754781.html">新京报：“十五的月亮十四圆”今晚上演，下次要等到2037年</a>】</p>]]></content>
    
    
    <summary type="html">什么是十五的月亮十四圆？为什么十五的月亮十四就圆了？</summary>
    
    
    
    <category term="烟岚云岫" scheme="https://senorui.top/categories/%E7%83%9F%E5%B2%9A%E4%BA%91%E5%B2%AB/"/>
    
    
    <category term="天文现象" scheme="https://senorui.top/tags/%E5%A4%A9%E6%96%87%E7%8E%B0%E8%B1%A1/"/>
    
    <category term="十五的月亮十四圆" scheme="https://senorui.top/tags/%E5%8D%81%E4%BA%94%E7%9A%84%E6%9C%88%E4%BA%AE%E5%8D%81%E5%9B%9B%E5%9C%86/"/>
    
  </entry>
  
  <entry>
    <title>记NPM安装插件时出现的错误和解决办法</title>
    <link href="https://senorui.top/posts/359e.html"/>
    <id>https://senorui.top/posts/359e.html</id>
    <published>2020-08-01T10:45:46.000Z</published>
    <updated>2020-08-21T06:48:52.289Z</updated>
    
    <content type="html"><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>某一次安装插件时出现如下错误提示</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm WARN registry Unexpected warning for https://registry.npmjs.org/: Miscellaneous Warning ETIMEDOUT: request to https://registry.npmjs.org/hexo failed, reason: connect ETIMEDOUT 104.16.27.35:443</span><br></pre></td></tr></table></figure><h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><ol><li><p>执行命令强制清除NPM缓存</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm cache clear --force</span><br></pre></td></tr></table></figure></li><li><p>再执行命令重新安装一次NPM</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install npm</span><br></pre></td></tr></table></figure></li></ol><p>或者</p><ol><li><p>先删除根目录下的<code>package-lock.json</code>文件</p></li><li><p>再执行命令安装<code>verify</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm cache verify</span><br></pre></td></tr></table></figure></li><li><p>最后执行命令启动bundler </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g parcel-bundler</span><br></pre></td></tr></table></figure></li></ol><p>两种方法均有效</p><p>若第一种方法不起效，可使用第二种方法！！</p>]]></content>
    
    
    <summary type="html">记一次NPM安装插件时出现的错误和解决办法</summary>
    
    
    
    <category term="洪炉点雪" scheme="https://senorui.top/categories/%E6%B4%AA%E7%82%89%E7%82%B9%E9%9B%AA/"/>
    
    
    <category term="Hexo博客" scheme="https://senorui.top/tags/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="hexo博客错误" scheme="https://senorui.top/tags/hexo%E5%8D%9A%E5%AE%A2%E9%94%99%E8%AF%AF/"/>
    
  </entry>
  
  <entry>
    <title>让Github上的根、子域名均开启HTTPS</title>
    <link href="https://senorui.top/posts/ae97.html"/>
    <id>https://senorui.top/posts/ae97.html</id>
    <published>2020-07-26T15:42:32.000Z</published>
    <updated>2020-09-26T07:54:47.130Z</updated>
    
    <content type="html"><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><div class="note info">这两天不是搞了个纯静态的浏览器主页导航么？和本博客一样都托管到Github上，也想都开启HTTPS，不过本站已经采用了根域名，导航站只能采用新的子域名，现在托管到Github Pages上且自定义域名的网站均会给自定义域名配置好SSL证书，于是就想给站点都配置SSL证书，但是今天配置导航站子域名的时候，证书申请一直失败。</div><h2 id="食用方法"><a href="#食用方法" class="headerlink" title="食用方法"></a>食用方法</h2><p>首先关闭Github上已绑定的域名，</p><p><img src="/img/ae97/blog.webp" alt="关闭绑定"></p><p>再去新仓库开启Pages服务并绑定新域名<code>nav.senorui.top</code></p><p>半分钟后即可看到申请成功并显示已启用HTTPS！</p><p><img src="/img/ae97/nav.webp" alt="绑定令一域名"></p><p>回到本站仓库，重新绑定关闭的域名，即域名<code>senorui.top</code></p><p><img src="/img/ae97/rblog.webp" alt="重新绑定域名"></p><h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p>最后，根域名和子域名均开启HTTPS。</p><p><img src="/img/ae97/navhttps.webp" alt="导航站开启HTTPS"></p><p><img src="/img/ae97/iohttps.webp" alt="本站Github域名开启HTTPS"></p><p><img src="/img/ae97/blogg.webp" alt="本站自定义域名开启HTTPS"></p><p><strong>注： 由于本站使用CDN加速，且在CDN服务商处另有SSL证书，所以上图中本站域名<code>senorui.top</code>SSL证书与<code>senorui.github.io</code>证书不一致，关闭CDN加速后有缓存且会遇到403，这样比较麻烦，就不去一一验证了。</strong></p><p>以上，大功告成！！！</p>]]></content>
    
    
    <summary type="html">一种简单的方法让托管在Github上的根域名和子级域名网站均开启HTTPS。</summary>
    
    
    
    <category term="烟岚云岫" scheme="https://senorui.top/categories/%E7%83%9F%E5%B2%9A%E4%BA%91%E5%B2%AB/"/>
    
    
    <category term="Github" scheme="https://senorui.top/tags/Github/"/>
    
    <category term="HTTPS" scheme="https://senorui.top/tags/HTTPS/"/>
    
  </entry>
  
  <entry>
    <title>用Yandex搭建免费的个人域名邮箱服务</title>
    <link href="https://senorui.top/posts/24e3.html"/>
    <id>https://senorui.top/posts/24e3.html</id>
    <published>2020-07-13T12:42:32.000Z</published>
    <updated>2020-09-26T07:50:44.746Z</updated>
    
    <content type="html"><![CDATA[<p><strong><div class="note info">维基百科：<br>Yandex（俄语：Яндекс，中文：燕基科斯，NASDAQ：YNDX）是一家俄罗斯互联网企业，旗下的搜索引擎在俄国内拥有逾60%的市场占有率，同时也提供其他的一系列互联网产品和服务。数据显示，Yandex是目前世界第五大搜索引擎：在2012年4月，平均每日的搜索量超过1.5亿次；5月份，每日访客（包括搜索以外的业务）超过2550万。<br><br>这里介绍如何简单利用Yandex搭建免费的个人域名邮箱服务！</div></strong></p><p>文章开头先放上</p><p><strong>【官方文档】：</strong><a href="https://yandex.ru/support/business/domains.html">https://yandex.ru/support/business/domains.html</a></p><h3 id="注册yandex账号"><a href="#注册yandex账号" class="headerlink" title="注册yandex账号"></a>注册yandex账号</h3><p><strong>【注册入口】：</strong><a href="https://business.yandex.ru/mail">https://business.yandex.ru/mail</a></p><p>可以选择手机号注册，也可以用密保验证注册。</p><p><img src="/img/24e3/txxx.webp" alt="账号注册"></p><h3 id="注册域名邮箱"><a href="#注册域名邮箱" class="headerlink" title="注册域名邮箱"></a>注册域名邮箱</h3><p>登录后选择FREE进入，填写域名即可<br><img src="/img/24e3/ym.webp" alt="域名邮箱注册"></p><h3 id="域名邮箱配置"><a href="#域名邮箱配置" class="headerlink" title="域名邮箱配置"></a>域名邮箱配置</h3><h4 id="域名验证"><a href="#域名验证" class="headerlink" title="域名验证"></a>域名验证</h4><p>域名验证方式有：DNS验证、meta标记验证和HTML文件验证。</p><p><img src="/img/24e3/yz.webp" alt="域名验证"></p><p>这里我选择meta标记验证，去网站主题源码里找到<code>head.php</code>，将其给你的文本填入<code>&lt;head&gt;</code>和<code>&lt;/head&gt;</code>之间保存后，即可验证成功。</p><p><img src="/img/24e3/meta.webp" alt="meta标记"></p><h4 id="配置MX记录"><a href="#配置MX记录" class="headerlink" title="配置MX记录"></a>配置MX记录</h4><p>在你的域名控制台添加一条MX的DNS记录，主机name值为<code>@</code>或者直接空着，记录值为<code>mx.yandex.com</code>，优先级别为<code>10</code>，TTL设置为<code>21600</code>，配置完成后等待几分钟即可验证通过。</p><p>注意值是：<code>10 mx.yandex.com</code></p><p><img src="/img/24e3/mxyz.webp" alt="mx"></p><p><img src="/img/24e3/mxjx.webp" alt="mx配置"></p><h4 id="配置DKIM签名"><a href="#配置DKIM签名" class="headerlink" title="配置DKIM签名"></a>配置DKIM签名</h4><p>主机记录<code>mail._domainkey</code>，类型为TXT文本的记录，其记录值为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v&#x3D;DKIM1; k&#x3D;rsa; t&#x3D;s; p&#x3D;xxxxxxxx</span><br></pre></td></tr></table></figure><p><img src="/img/24e3/txt.webp" alt="txt.webp"></p><h3 id="自定义域名邮箱前缀"><a href="#自定义域名邮箱前缀" class="headerlink" title="自定义域名邮箱前缀"></a>自定义域名邮箱前缀</h3><p>在用户里点击添加用户，填入个人信息，填写域名前缀和密码保存即可。</p><p>个人网站使用，域名前缀一般填<code>me</code>、<code>i</code>和<code>info</code>即可。</p><p><img src="/img/24e3/add.webp" alt="添加域名邮箱"></p><p>然后需要登陆邮箱激活一下，【<strong>登录</strong>】: <a href="https://mail.yandex.com/">https://mail.yandex.com</a></p><p><img src="/img/24e3/jh.webp" alt="激活邮箱"></p><h3 id="使用配置"><a href="#使用配置" class="headerlink" title="使用配置"></a>使用配置</h3><p>使用插件 <strong>Comment2Mail</strong> 评论通过时发送邮件提醒。</p><p>在设置里填写SMTP服务器地址<code>smtp.yandex.com</code>，SMTP登录用户为邮箱名，SMTP登录密码即为邮箱密码，开启SSL加密，端口<code>465</code>。</p><p><img src="/img/24e3/sypz.webp" alt="配置使用"></p><p><strong>附：</strong></p><div class="note primary no-icon">端口：<br>POP3：pop.yandex.com SSL 端口：995<br>SMTP：smtp.yandex.com SSL 端口：465<br>IMAP：imap.yandex.com SSL 端口：993<br></div><div class="note danger no-icon">域名邮箱管理地址：<p><br><a href="https://connect.yandex.ru/portal/admin">https://connect.yandex.ru/portal/admin</a></div></p>]]></content>
    
    
    <summary type="html">如何简单利用Yandex搭建免费的个人域名邮箱服务？！</summary>
    
    
    
    <category term="烟岚云岫" scheme="https://senorui.top/categories/%E7%83%9F%E5%B2%9A%E4%BA%91%E5%B2%AB/"/>
    
    
    <category term="Yandex" scheme="https://senorui.top/tags/Yandex/"/>
    
    <category term="域名邮箱" scheme="https://senorui.top/tags/%E5%9F%9F%E5%90%8D%E9%82%AE%E7%AE%B1/"/>
    
  </entry>
  
  <entry>
    <title>记使用 Docker 部署 Halo</title>
    <link href="https://senorui.top/posts/88f4.html"/>
    <id>https://senorui.top/posts/88f4.html</id>
    <published>2020-07-10T14:22:12.000Z</published>
    <updated>2020-09-19T03:23:24.590Z</updated>
    
    <content type="html"><![CDATA[<h2 id="更新软件包"><a href="#更新软件包" class="headerlink" title="更新软件包"></a>更新软件包</h2><p>请确保服务器的软件包已经是最新的。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum update -y</span><br></pre></td></tr></table></figure><h2 id="安装-Halo"><a href="#安装-Halo" class="headerlink" title="安装 Halo"></a>安装 Halo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o ~&#x2F;.halo&#x2F;application.yaml --create-dirs https:&#x2F;&#x2F;dl.halo.run&#x2F;config&#x2F;application-template.yaml</span><br></pre></td></tr></table></figure><p>使用 Vim 工具修改配置文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~&#x2F;.halo&#x2F;application.yaml</span><br></pre></td></tr></table></figure><p>拉取最新 Halo 镜像</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker pull ruibaby&#x2F;halo</span><br></pre></td></tr></table></figure><p>创建容器并运行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm -it -d --name halo -p 8090:8090  -v ~&#x2F;.halo:&#x2F;root&#x2F;.halo ruibaby&#x2F;halo</span><br></pre></td></tr></table></figure><p>更新 Halo 版本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">## 停止容器</span><br><span class="line">sudo docker stop halo</span><br><span class="line"></span><br><span class="line">## 拉取最新的 Halo 镜像</span><br><span class="line">sudo docker pull ruibaby&#x2F;halo</span><br><span class="line"></span><br><span class="line">## 创建容器</span><br><span class="line">docker run --rm -it -d --name halo -p 8090:8090  -v ~&#x2F;.halo:&#x2F;root&#x2F;.halo ruibaby&#x2F;halo</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">记录了如何用Ddocker快速地部署一个Halo博客系统。</summary>
    
    
    
    <category term="洪炉点雪" scheme="https://senorui.top/categories/%E6%B4%AA%E7%82%89%E7%82%B9%E9%9B%AA/"/>
    
    
    <category term="Halo博客" scheme="https://senorui.top/tags/Halo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="Docker部署Halo" scheme="https://senorui.top/tags/Docker%E9%83%A8%E7%BD%B2Halo/"/>
    
  </entry>
  
  <entry>
    <title>记录一下docker安装过程</title>
    <link href="https://senorui.top/posts/e722.html"/>
    <id>https://senorui.top/posts/e722.html</id>
    <published>2020-07-10T14:12:12.000Z</published>
    <updated>2020-09-19T03:23:21.495Z</updated>
    
    <content type="html"><![CDATA[<p><strong>文章非原创！！！</strong></p><div class="note danger no-icon"><p><strong>本文参考：</strong><br><strong><a href="https://zhuanlan.zhihu.com/p/54147784">史上最全（全平台）docker安装方法</a></strong></div></p><p>删除docker旧版本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-selinux \</span><br><span class="line">                  docker-engine-selinux \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure><p>清除所有docker的旧数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -rf &#x2F;var&#x2F;lib&#x2F;docker</span><br></pre></td></tr></table></figure><p>安装依赖</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y yum-utils \</span><br><span class="line">  device-mapper-persistent-data \</span><br><span class="line">  lvm2</span><br></pre></td></tr></table></figure><p>添加阿里云镜像源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;centos&#x2F;docker-ce.repo</span><br></pre></td></tr></table></figure><p>配置缓存</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum makecache fast</span><br></pre></td></tr></table></figure><p>安装最新稳定版本的docker</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y docker-ce</span><br></pre></td></tr></table></figure><p>配置镜像加速器</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p &#x2F;etc&#x2F;docker</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo tee &#x2F;etc&#x2F;docker&#x2F;daemon.json &lt;&lt;-&#39;EOF&#39;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;http:&#x2F;&#x2F;hub-mirror.c.163.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p>启动docker引擎并设置开机启动</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start docker</span><br><span class="line">sudo systemctl enable docker</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">详细地记录一下docker安装的过程。</summary>
    
    
    
    <category term="洪炉点雪" scheme="https://senorui.top/categories/%E6%B4%AA%E7%82%89%E7%82%B9%E9%9B%AA/"/>
    
    
    <category term="docker安装" scheme="https://senorui.top/tags/docker%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>Hexo静态网站部署到华为云OBS和Github</title>
    <link href="https://senorui.top/posts/7f2f.html"/>
    <id>https://senorui.top/posts/7f2f.html</id>
    <published>2020-07-08T12:12:32.000Z</published>
    <updated>2020-09-26T07:55:09.091Z</updated>
    
    <content type="html"><![CDATA[<div class="note info">以下不涉及如何搭建Hexo博客，一切都是在我们已经搭建好自己的网站的前提下进行，且所有操作均以子域名 blog.senorui.top 演示，静态文件为本网站文件。</div><p><strong>【如何搭建Hexo可阅读】:</strong> <a href="https://senorui.top/posts/5bb9.html">https://senorui.top/posts/5bb9.html</a></p><h2 id="创建OBS存储桶"><a href="#创建OBS存储桶" class="headerlink" title="创建OBS存储桶"></a>创建OBS存储桶</h2><p>在【<a href="https://www.huaweicloud.com/product/obs.html"><strong>OBS</strong></a>】控制台，右上角新建存储桶；区域根据你的位置选择，选择标准存储、多AZ存储，桶名称随意，桶策略选择 <strong>公共读</strong>，<strong>关闭加密</strong>，<strong>关闭数据归档</strong>。填写完成后按用量收费并创建。<br>如下图<br><img src="/img/7f2f/Cb.webp" alt="创建存储桶"></p><p>存储类别和单、多AZ存储具体差别参见【<a href="https://www.huaweicloud.com/pricing.html?tab=detail#/obs"><strong>官方文档</strong></a>】。</p><p><img src="/img/7f2f/cash.webp" alt="计费方式"></p><h2 id="OBS-Browser-工具的使用"><a href="#OBS-Browser-工具的使用" class="headerlink" title="OBS Browser+工具的使用"></a>OBS Browser+工具的使用</h2><h3 id="获取OBS-Browser-工具和密钥"><a href="#获取OBS-Browser-工具和密钥" class="headerlink" title="获取OBS Browser+工具和密钥"></a>获取OBS Browser+工具和密钥</h3><p>在桶列表上方，【<a href="https://obs-community.obs.cn-north-1.myhuaweicloud.com/obsbrowserplus/win64/OBSBrowserPlus-HEC-win64.zip"><strong>下载OBS Browser+</strong></a>】图形工具并安装到电脑上。然后在右上角点获取访问密钥，进入页面后点新增访问密钥后会自动下载密钥文件<code>credentials.csv</code>到电脑上。</p><p><img src="/img/7f2f/uptool.webp" alt="上传工具"></p><h3 id="使用OBS-Browser-图形工具"><a href="#使用OBS-Browser-图形工具" class="headerlink" title="使用OBS Browser+图形工具"></a>使用OBS Browser+图形工具</h3><p>账号名随便取，根据密钥文件<code>credentials.csv</code>填入AK和SK值，点击保存密钥后登录。</p><p><img src="/img/7f2f/Singup.webp" alt="登录工具"></p><h3 id="上传静态文件"><a href="#上传静态文件" class="headerlink" title="上传静态文件"></a>上传静态文件</h3><ol><li>进入桶根目录后点击上传，对象权限选择<strong>公共读</strong>，存储类型默认即可，然后上传整个<code>public</code> 目录下的文件。<br><img src="/img/7f2f/upfiles.webp" alt="文件上传"></li><li>全部选中<code>public</code>目录下的文件，拖到桶根目录下即可上传。对象的权限和存储类别默认为创建存储桶时的值。</li></ol><h2 id="配置静态网站托管"><a href="#配置静态网站托管" class="headerlink" title="配置静态网站托管"></a>配置静态网站托管</h2><p>在网页的对象存储OBS控制台，进入创建的桶概览页，点击配置静态网站托管。</p><p>开启网站托管，托管模式为配置到当前桶，填写默认首页<code>index.html</code>、404页为<code>error.html</code>，确认即可得到一个托管静态网站的 <strong>访问地址</strong>(去掉https://即为桶域名)。</p><p><img src="/img/7f2f/Pzweb.webp" alt="配置网站托管"></p><p>配置完成后即可通过网站访问地址打开网站。</p><p><img src="/img/7f2f/Toweb.webp" alt="访问网站"></p><h2 id="OBS绑定用户域名"><a href="#OBS绑定用户域名" class="headerlink" title="OBS绑定用户域名"></a>OBS绑定用户域名</h2><p>在用户域名框填入域名，开启CDN加速，选择业务类型为 <strong>网站加速</strong>。</p><p><img src="/img/7f2f/Todam.webp" alt="绑定用户域名"></p><h2 id="配置CDN"><a href="#配置CDN" class="headerlink" title="配置CDN"></a>配置CDN</h2><p>在用户域名后点击管理CDN加速的操作，</p><p><img src="/img/7f2f/topzCDN.webp" alt="ToCDN"></p><p>跳转到CDN的域名管理页后，点击域名或者设置进入CDN配置页面</p><p><img src="/img/7f2f/Topzcdn1.webp" alt="配置CDN"></p><p>基本配置下编辑 <strong>源站配置</strong>，主源站下，类型选择 <strong>源站域名</strong>，源站填写绑定的 <strong>OBS桶域名</strong>。</p><p><img src="/img/7f2f/CDNpz.webp" alt="配置源站信息"></p><p>复制基本信息中的 <strong>CNAME信息</strong></p><p><img src="/img/7f2f/CCNAME.webp" alt="CCNAME"></p><p>到域名控制台，将你的域名以 <strong>CNAME类型</strong> 解析到此 <strong>CNAME值(CNAME信息)</strong></p><p><img src="/img/7f2f/JXCNAME.webp" alt="解析CNAME"></p><p>在CDN域名管理处，当域名状态处于 <strong>已开启</strong> 时，说明CDN配置已经成功，此时即可通过你的域名访问网站了。</p><p><img src="/img/7f2f/CDNweb.webp" alt="CDN加速成功"></p><h2 id="域名开启SSL"><a href="#域名开启SSL" class="headerlink" title="域名开启SSL"></a>域名开启SSL</h2><p>证书是华为云零元白嫖的，登录账号的情况下，选择DV（Basic）-DigCert-单域名，即可零元购买。</p><p><strong>【SSL证书购买】：</strong><a href="https://console.huaweicloud.com/scs/?region=cn-east-2#/scs/purchase">https://console.huaweicloud.com/scs/?region=cn-east-2#/scs/purchase</a></p><p><img src="/img/7f2f/SSLbuy.webp" alt="SSL购买"></p><p>SSL证书开启分两种情况。</p><p><strong><em>PS:具体操作就略过了，毕竟这个域名不使用。</em></strong></p><h3 id="华为云托管证书"><a href="#华为云托管证书" class="headerlink" title="华为云托管证书"></a>华为云托管证书</h3><p>CDN控制台处点击进入SSL证书管理，申请你的域名的证书，申请成功后，选择推送到华为云CDN产品中。<br><img src="/img/7f2f/SSLpush.webp" alt="推送证书"></p><p>回到CDN控制台，在域名证书管理项，进入配置证书页面，选择华为云托管证书，证书名称选择域名申请的证书名称，回源方式为 <strong>跟随</strong> ，<strong>开启</strong> 强制跳转HTTPS和HTTP/2，然后选中申请证书的相对应的 <strong>加速域名</strong>（即用户域名），往下一步步确认即可。</p><p><img src="/img/7f2f/SLLPz.webp" alt="配置SSL"></p><h3 id="自有证书"><a href="#自有证书" class="headerlink" title="自有证书"></a>自有证书</h3><p>在CDN控制台，进入证书配置页，选择自有证书，依次填入 <strong>证书名称、证书内容、私钥内容</strong>，然后回源方式为 <strong>跟随</strong>，<strong>开启强制跳转HTTPS和HTTP/2</strong>，选中申请证书的对应的 <strong>加速域名</strong>（即用户域名），一步步往下认即可。</p><p>当CDN控制台域名前有小绿锁🔒时，说明SSL配置已经成功。</p><p><img src="/img/7f2f/SLLsus.webp" alt="SSL配置成功"><br><img src="/img/7f2f/flish.webp" alt="SSL配置成功"></p><h2 id="同时将网站部署到GitHub"><a href="#同时将网站部署到GitHub" class="headerlink" title="同时将网站部署到GitHub"></a>同时将网站部署到GitHub</h2><p>在域名控制台，你的域名增加一条A类型，线路改为全球默认，值为GitHub Pages的IP的记录集。</p><p>然后再增加一条<code>www</code>的A类型，线路默认，值为GitHub的IP的解析记录集。<br>此www的解析目的是将<code>www.senorui.top</code>自动跳转到<code>senorui.top</code>上来，这样避免别人用<code>www.senorui.top</code>时找不到你的网站。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#GitHub Pages的IP</span><br><span class="line">185.199.111.153</span><br><span class="line">185.199.110.153</span><br><span class="line">185.199.109.153</span><br><span class="line">185.199.108.153</span><br></pre></td></tr></table></figure><p><img src="/img/7f2f/Fullpz.webp" alt="域名解析"></p><h2 id="一键部署到华为云OBS"><a href="#一键部署到华为云OBS" class="headerlink" title="一键部署到华为云OBS"></a>一键部署到华为云OBS</h2><p>安装<code>hexo-deployer-huaweicloud-obs</code>插件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-huaweicloud-obs --save</span><br></pre></td></tr></table></figure><p>首先在 <code>_config.yml</code>做如下的配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: &quot;huaweicloud-obs&quot;</span><br><span class="line">  server : &quot;https:&#x2F;&#x2F;obs.cn-north-1.myhwclouds.com&quot; #OBS所在的服务器</span><br><span class="line">  bucket: &quot;obs-2f97&quot; #存储桶名称</span><br><span class="line">  accessKeyId: &quot;R7DYQD3DQRRLTDWYttE3S&quot;</span><br><span class="line">  secretAccessKey: &quot;TERHf0NGpDrbhsbc1h3xymB9w22wK8lLgOhdgFkgjCB2&quot;</span><br><span class="line">  localFilesIgnorePattern: &quot;^\\..*&quot;</span><br><span class="line">  remoteDir: &quot;&#x2F;&quot;</span><br><span class="line">  syncDeletedFiles: &quot;yes&quot;</span><br><span class="line">  syncDeletedFilesIgnorePattern: &quot;^\\..*&quot;</span><br></pre></td></tr></table></figure><p>【<strong>具体参数参考官方文档】:</strong> <a href="https://developer.aliyun.com/mirror/npm/package/hexo-deployer-huaweicloud-obs">https://developer.aliyun.com/mirror/npm/package/hexo-deployer-huaweicloud-obs</a></p>]]></content>
    
    
    <summary type="html">hexo等静态网站选择国内部署到华为云OBS并启用CDN加速，海外部署到Github的双线方案。</summary>
    
    
    
    <category term="烟岚云岫" scheme="https://senorui.top/categories/%E7%83%9F%E5%B2%9A%E4%BA%91%E5%B2%AB/"/>
    
    
    <category term="Hexo博客" scheme="https://senorui.top/tags/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="华为云OBS" scheme="https://senorui.top/tags/%E5%8D%8E%E4%B8%BA%E4%BA%91OBS/"/>
    
    <category term="华为云CDN" scheme="https://senorui.top/tags/%E5%8D%8E%E4%B8%BA%E4%BA%91CDN/"/>
    
  </entry>
  
  <entry>
    <title>对C盘User下的用户名的修改</title>
    <link href="https://senorui.top/posts/59ce.html"/>
    <id>https://senorui.top/posts/59ce.html</id>
    <published>2020-06-30T04:12:38.000Z</published>
    <updated>2020-09-26T07:53:11.711Z</updated>
    
    <content type="html"><![CDATA[<p><strong><div class="note danger">操作前一定要备份重要资料文件和创建系统还原点，给自己留颗后悔药！<br><br>创建系统还原点：此电脑右键→属性→系统保护→创建，还原点名字随意取。</div></strong></p><p>若 <em>创建</em> 按钮为灰色不可点击，则需要 <strong>先选中系统盘（C:\）→配置→启用系统保护</strong>。</p><p><img src="/img/59ce/restorepoint.webp" alt="restorepoint.webp"></p><h3 id="进入正题"><a href="#进入正题" class="headerlink" title="进入正题"></a>进入正题</h3><p>由于某些原因，我们C盘下的用户名是中文或者是很复杂的名字,例如我的<code>C:\User\ghr23</code>(本来应该要填的是ghr233)，这里我的修由<code>C:\User\ghr23</code>改为<code>C:\User\Senorui</code></p><p>下面介绍一种稳妥且完美的方法，以下均在安全模式下进行操作。</p><p><strong>进入安全模式：设置→更新与安全→恢复→高级启动（立即重新启动），疑难解答→高级选项→启动设置→重启，重启后按键盘上的4或F4即可进入安全模式。</strong></p><h3 id="一、首先修改注册表值"><a href="#一、首先修改注册表值" class="headerlink" title="一、首先修改注册表值"></a>一、首先修改注册表值</h3><p><strong>Win+R</strong>打开命令窗口，输入<code>regedit</code>进入注册表编辑器，按住 <strong>Ctrl+F</strong>在搜索框搜索 <strong>ProfileList</strong>，或者手动定位到<code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsNT\CurrentVersion\ProfileList</code></p><p>修改此列表下的所有 <strong>ProfileListPath</strong>项键值为<code>C:\User\Senorui</code>，如下图</p><p><img src="/img/59ce/Registry.webp" alt="Registry.webp"></p><p><img src="/img/59ce/Registry1.webp" alt="Registry1.webp"></p><h3 id="二、重命名用户文件夹"><a href="#二、重命名用户文件夹" class="headerlink" title="二、重命名用户文件夹"></a>二、重命名用户文件夹</h3><p>修改完成后，在左下角的Windows徽标上右键注销计算机，其会提示正在配置Windows，配置完成后在登陆页面切换到Administrator用户登录，进入桌面时会有系统错误提示，点击 <strong>否</strong> 后直接按 <strong>Win+E</strong>进入资源管理器，在<code>C:\User\</code>下对用户名进行重命名即可。</p><p>重命名完成后再一次注销计算机，并进入桌面。</p><p>到此基本修改成功，如果不放心可以再看一下注册表值是否修改成功，以及用户文件是否重命名成功。</p><h3 id="三、修改环境变量"><a href="#三、修改环境变量" class="headerlink" title="三、修改环境变量"></a>三、修改环境变量</h3><p><strong>路径：此电脑右键→属性→高级系统设置→环境变量</strong></p><p>在用户变量一栏，变量值一一修改为新用户名的值</p><p>如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\User\ghr23\AppDarta\*</span><br><span class="line">#改为</span><br><span class="line">C:\User\Senorui\AppDarta\*</span><br></pre></td></tr></table></figure><p><img src="/img/59ce/Environment.webp" alt="Environment.webp"></p><h3 id="四、重启系统"><a href="#四、重启系统" class="headerlink" title="四、重启系统"></a>四、重启系统</h3><p>修改无误后重启系统即可恢复到正常使用的系统环境，可以检查重命名是否成功，注册表值以及环境变量修改是否成功。</p><p>以上，我基本是一次成功。</p><p><strong><div class="note danger"> 后遗症：<br><br>由于用户文件名修改后AppData目录的文件路径被改变，所以个别软件需要重新安装才可使用。</div></strong></p>]]></content>
    
    
    <summary type="html">修改（重命名）C盘User目录下的用户文件夹名。</summary>
    
    
    
    <category term="烟岚云岫" scheme="https://senorui.top/categories/%E7%83%9F%E5%B2%9A%E4%BA%91%E5%B2%AB/"/>
    
    
    <category term="修改C盘User用户名" scheme="https://senorui.top/tags/%E4%BF%AE%E6%94%B9C%E7%9B%98User%E7%94%A8%E6%88%B7%E5%90%8D/"/>
    
    <category term="Windows系统" scheme="https://senorui.top/tags/Windows%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>用AdGuardHome搭建去广告DNS服务</title>
    <link href="https://senorui.top/posts/21a6.html"/>
    <id>https://senorui.top/posts/21a6.html</id>
    <published>2020-06-01T13:52:38.000Z</published>
    <updated>2020-08-21T07:22:59.564Z</updated>
    
    <content type="html"><![CDATA[<div class="note info no-icon">AdGuard Home是用于阻止广告和跟踪的全网络软件。设置完成后，它将涵盖所有家庭设备，并且您不需要任何客户端软件。<p>它充当DNS服务器，将跟踪域重新路由到“黑洞”，从而防止您的设备连接到这些服务器。它基于我们用于公共AdGuard DNS服务器的软件-两者共享许多通用代码。</div></p><p><strong>【项目地址】:</strong> <a href="https://github.com/AdguardTeam/AdGuardHome/releases">https://github.com/AdguardTeam/AdGuardHome/releases</a></p><p><strong>【Linux发行版】:</strong> <a href="https://snapcraft.io/adguard-home">https://snapcraft.io/adguard-home</a></p><iframe src="https://snapcraft.io/adguard-home/embedded?button=white&channels=true&summary=true" frameborder="0" width="100%" height="410px" style="border: 1px solid #CCC; border-radius: 2px;"></iframe><h3 id="安装AdGuard-Home"><a href="#安装AdGuard-Home" class="headerlink" title="安装AdGuard Home"></a>安装AdGuard Home</h3><p>此处基于CentOS 7 X64安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;static.adguard.com&#x2F;adguardhome&#x2F;release&#x2F;AdGuardHome_linux_amd64.tar.gz</span><br><span class="line">&amp;</span><br><span class="line">wget https:&#x2F;&#x2F;github.com&#x2F;AdguardTeam&#x2F;AdGuardHome&#x2F;releases&#x2F;download&#x2F;v0.102.0&#x2F;AdGuardHome_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure><p>推荐使用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http:&#x2F;&#x2F;soft.xiaoz.org&#x2F;linux&#x2F;AdGuardHome_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure><p>解压</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf AdGuardHome_linux_arm64.tar.gz</span><br></pre></td></tr></table></figure><p>进入AdGuard Home目录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd AdGuardHome</span><br></pre></td></tr></table></figure><p>放行3000端口（AdGuard Home默端口）</p><p>firewalld放行3000端口</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --add-port&#x3D;3000&#x2F;tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>iptables放行3000端口</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -A INPUT -p tcp --dport 3000 -j ACCEPT</span><br><span class="line">service iptables save</span><br></pre></td></tr></table></figure><p>同时需要放行53端口</p><p>firewalld放行53端口</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --add-port&#x3D;53&#x2F;tcp --permanent</span><br><span class="line">firewall-cmd --zone&#x3D;public --add-port&#x3D;53&#x2F;udp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>iptables放行53端口</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iptables -A INPUT -p tcp --dport 53 -j ACCEPT</span><br><span class="line">iptables -A INPUT -p udp --dport 53 -j ACCEPT</span><br><span class="line">service iptables save</span><br></pre></td></tr></table></figure><p><strong>注意：同时需要在服务器的安全组手动打开3000、53端口</strong></p><p>启动AdGuard Home</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;AdGuardHome</span><br></pre></td></tr></table></figure><p>另，为了方便管理可使用命令<code>./AdGuardHome -s install</code>安装为服务，然后再使用下面的命令来进行管理。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#启动</span><br><span class="line">systemctl start AdGuardHome</span><br><span class="line">#开机自启</span><br><span class="line">systemctl enable AdGuardHome</span><br><span class="line">#重启</span><br><span class="line">systemctl restart AdGuardHome</span><br><span class="line">#停止</span><br><span class="line">systemctl stop AdGuardHome</span><br></pre></td></tr></table></figure><h3 id="服务配置"><a href="#服务配置" class="headerlink" title="服务配置"></a>服务配置</h3><p>启动AdGuard Home后，需设置监听端口需为<code>3000</code>，DNS服务器端口默认，其他下一步即可</p><p>然后在浏览器输入<code>http://ip:3000</code>按照提示设置账号密码即可进入网页控制面板。</p><h4 id="上游DNS设置"><a href="#上游DNS设置" class="headerlink" title="上游DNS设置"></a>上游DNS设置</h4><p>AdGuard Home默认使用 Cloudflare DNS作为上游服务器，如果您服务器在国内可能请求上游DNS延迟比较高，点击设置 - DNS设置为国内的DNS，如阿里巴巴的223.5.5.5、电信的114.114.114.114、CNNIC的1.2.4.8 &amp;210.2.4.8。</p><h4 id="过滤器添加"><a href="#过滤器添加" class="headerlink" title="过滤器添加"></a>过滤器添加</h4><p>在网页控制面板 - 过滤器，AdGuardHome 内置了部分广告过滤规则，你也可以手动添加过滤器或者进行检查更新，也可以自定义过滤器规则。</p><p><strong>【国内常用规则可参考我的这篇文章】: <a href="https://senorui.top/posts/b7d1.html">https://senorui.top/posts/b7d1.html</a></strong></p><h4 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h4><p>其配置文件路径<code>/root/AdGuardHome/AdGuardHome.yaml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">bind_host:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line"><span class="attr">bind_port:</span> <span class="number">3000</span></span><br><span class="line"><span class="attr">auth_name:</span> <span class="string">admin</span></span><br><span class="line"><span class="attr">auth_pass:</span> <span class="string">admin</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-cn</span></span><br><span class="line"><span class="attr">rlimit_nofile:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">dns:</span></span><br><span class="line">  <span class="attr">bind_host:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">53</span></span><br><span class="line">  <span class="attr">protection_enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">filtering_enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">blocking_mode:</span> <span class="string">nxdomain</span></span><br><span class="line">  <span class="attr">blocked_response_ttl:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">querylog_enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">ratelimit:</span> <span class="number">20</span></span><br><span class="line">  <span class="attr">ratelimit_whitelist:</span> []</span><br><span class="line">  <span class="attr">refuse_any:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">bootstrap_dns:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="number">114.114</span><span class="number">.114</span></span><br><span class="line">  <span class="bullet">-</span> <span class="number">223.5</span><span class="number">.5</span><span class="number">.5</span></span><br></pre></td></tr></table></figure><p>账号密码也只能通过这里修改。</p><h3 id="设备配置"><a href="#设备配置" class="headerlink" title="设备配置"></a>设备配置</h3><p><strong>【官方配置文档】:</strong> <a href="https://github.com/AdguardTeam/AdGuardHome/wiki/Getting-Started#configure-devices">https://github.com/AdguardTeam/AdGuardHome/wiki/Getting-Started#configure-devices</a></p><h4 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h4><p>此设置将自动覆盖连接到家庭路由器的所有设备，您无需手动配置它们。</p><ol><li><p>打开路由器的首选项。通常，您可以通过URL(例如<a href="http://192.168.0.1/">http://192.168.0.1/</a> 或<a href="http://192.168.1.1/">http://192.168.1.1/</a>) 从浏览器访问它。可能会要求您输入密码。如果您忘记了密码，通常可以通过按路由器本身上的按钮来重置密码。某些路由器需要特定的应用程序，在这种情况下，应已将其安装在计算机/电话上。</p></li><li><p>查找DHCP / DNS设置。在允许两到三组数字的字段旁边查找“ DNS”字母，每组数字分为四组，每组由一到三位数字组成。<br>在此处输入您的AdGuard Home服务器地址。</p></li></ol><h4 id="安卓系统"><a href="#安卓系统" class="headerlink" title="安卓系统"></a>安卓系统</h4><ol><li><p>在Android菜单主屏幕上，点击“设置”</p></li><li><p>在菜单上点击Wi-Fi。这将显示所有可用网络的列表（无法为移动连接设置自定义DNS）</p></li><li><p>长按您所连接的网络，然后点击“修改网络”</p></li><li><p>在某些设备上，您可能需要选中“高级”框以查看更多设置。要调整您的Android DNS设置，您需要将IP设置从“ DHCP”切换到“静态”。</p></li><li><p>将“ DNS 1”和“ DNS 2”值更改为您的AdGuard家庭地址。</p></li></ol><h4 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h4><ol><li><p>在主屏幕上，点击“设置”</p></li><li><p>在左侧菜单中选择“ Wi-Fi”（无法为移动网络配置DN）</p></li><li><p>点击当前活动网络的名称</p></li><li><p>在“ DNS”字段中输入您的AdGuard家庭地址</p></li></ol><h4 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h4><ol><li><p>单击Apple图标，然后转到“系统偏好设置”。</p></li><li><p>点击“网络”</p></li><li><p>选择列表中的第一个连接，然后单击“高级”。</p></li><li><p>选择“ DNS”标签，然后添加AdGuard Home的地址。</p></li></ol><h4 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h4><ol><li><p>通过“开始”菜单或Windows搜索打开控制面板。</p></li><li><p>转到“网络和Internet”类别，然后转到“网络和共享中心”。</p></li><li><p>在屏幕的左侧找到“更改适配器设置”，然后单击它。</p></li><li><p>选择您的活动连接，右键单击它，然后选择“属性”。</p></li><li><p>在列表中找到“ Internet协议版本4（TCP / IP）”，选择它，然后再次单击“属性”。<br>选择“使用以下DNS服务器地址”，然后在此处输入您的AdGuard主地址。</p></li></ol><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>对于一个免费的开源项目来说，AdGuard Home无疑是强大的，其支持树莓派 Windows、Linux、MacOS等系统，还提供了Docker 一键安装的方式，简单方便，最重要的是时常进行更新维护。</p><p>AdGuard Home还提供了直观的数据统计系以及界面化的操作，无论是家庭还是企业都可以用来自建 DNS。</p>]]></content>
    
    
    <summary type="html">用AdGuardHome搭建一个可用于PC、移动端和路由端的去广告DNS服务。</summary>
    
    
    
    <category term="烟岚云岫" scheme="https://senorui.top/categories/%E7%83%9F%E5%B2%9A%E4%BA%91%E5%B2%AB/"/>
    
    
    <category term="AdGuard Home" scheme="https://senorui.top/tags/AdGuard-Home/"/>
    
    <category term="去广告DNS服务" scheme="https://senorui.top/tags/%E5%8E%BB%E5%B9%BF%E5%91%8ADNS%E6%9C%8D%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客源码备份</title>
    <link href="https://senorui.top/posts/a2b7.html"/>
    <id>https://senorui.top/posts/a2b7.html</id>
    <published>2020-05-26T04:45:46.000Z</published>
    <updated>2020-08-21T07:14:23.647Z</updated>
    
    <content type="html"><![CDATA[<div class="note info">2020-07-04更新，原先为Git命令进行备份，现增加插件备份的方法。</div><p>其实以下两种方法的原理是相同的，看个人喜好选择即可。</p><h2 id="Git命令进行备份"><a href="#Git命令进行备份" class="headerlink" title="Git命令进行备份"></a>Git命令进行备份</h2><h3 id="创建源码备份仓库或分支"><a href="#创建源码备份仓库或分支" class="headerlink" title="创建源码备份仓库或分支"></a>创建源码备份仓库或分支</h3><p>在Gitub上新建一个存放源码的仓库，或者创建一个分支。</p><h3 id="删除必要文件"><a href="#删除必要文件" class="headerlink" title="删除必要文件"></a>删除必要文件</h3><p>删除博客主题下的<code>.git</code>,<code>.github</code>,<code>.gitignore</code>文件；保留根目录下的<code>.gitignore</code>，并把其文件修改为</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br></pre></td></tr></table></figure><h3 id="源码备份"><a href="#源码备份" class="headerlink" title="源码备份"></a>源码备份</h3><p>在本地博客根目录下打开<strong>GitBash</strong>依次执行命令</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git init                   # 将blog作为一个git仓库进行初始化</span><br><span class="line">$ git checkout -b backup     # 创建/切换本地backup分支</span><br><span class="line">$ git add .                  # 将文件添加到暂存区  </span><br><span class="line">$ git commit -m &quot;提交说明&quot;    # 将暂存区文件提交到本地仓库</span><br><span class="line">$ git remote add origin git@github.com:Senorui/Blog.git  # 添加远程仓库or分支地址</span><br><span class="line">$ git push origin backup     # 将本地仓库推送至远程仓库</span><br></pre></td></tr></table></figure><p>更新源码备份，则执行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --force origin backup</span><br></pre></td></tr></table></figure><h3 id="新电脑上还原源码"><a href="#新电脑上还原源码" class="headerlink" title="新电脑上还原源码"></a>新电脑上还原源码</h3><h4 id="安装好Git和nodejs"><a href="#安装好Git和nodejs" class="headerlink" title="安装好Git和nodejs"></a>安装好Git和nodejs</h4><h4 id="克隆源码到本地"><a href="#克隆源码到本地" class="headerlink" title="克隆源码到本地"></a>克隆源码到本地</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b backup git@github.com:Senorui&#x2F;Blog.git</span><br></pre></td></tr></table></figure><h4 id="还原hexo环境"><a href="#还原hexo环境" class="headerlink" title="还原hexo环境"></a>还原hexo环境</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cd Blog                       # 进入Blog文件夹</span><br><span class="line">$ npm install hexo --save       # 安装hexo</span><br><span class="line">$ npm install hexo-cli -g       # 安装hexo命令行模式</span><br><span class="line">$ npm install                   # 安装所有依赖并自动安装之前安装过的插件</span><br></pre></td></tr></table></figure><h4 id="配置Git环境和新SSH"><a href="#配置Git环境和新SSH" class="headerlink" title="配置Git环境和新SSH"></a>配置Git环境和新SSH</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;你要设置的名字&quot;</span><br><span class="line">$ git config --global user.email &quot;你要设置的邮箱&quot;</span><br><span class="line">$ ssh-keygen -t rsa -C &quot;你刚刚设置的邮箱&quot;</span><br><span class="line">$ cd ~&#x2F;.ssh             # 进入虚拟目录ssh文件中</span><br><span class="line">$ cat id_rsa.pub        # 显示id_rsa.pub文件内容</span><br></pre></td></tr></table></figure><p>验证是否配置成功</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com </span><br></pre></td></tr></table></figure><p>当看到上面设置的名字即为成功。</p><h3 id="写博客"><a href="#写博客" class="headerlink" title="写博客"></a>写博客</h3><p>和在原电脑上一样操作即可</p><h3 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h3><p>为方便部署文章和备份源码，可写一个名为<code>deploy.sh</code>的文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br><span class="line">git init</span><br><span class="line">git checkout -b backup</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;源码更新&quot;</span><br><span class="line">git remote add origin git@github.com:Senorui&#x2F;Blog.git</span><br><span class="line">git push origin backup</span><br></pre></td></tr></table></figure><p>部署文章和备份源码时直接输入以下命令即可。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh deploy.sh</span><br></pre></td></tr></table></figure><hr><h2 id="hexo-git-backup插件备份"><a href="#hexo-git-backup插件备份" class="headerlink" title="hexo-git-backup插件备份"></a>hexo-git-backup插件备份</h2><div class="note warning">其方便一点的是可以备份主题文件，而上一种方法我每次备份都不成功！！</div><p>【<strong>插件地址</strong>】: <a href="https://github.com/coneycode/hexo-git-backup">https://github.com/coneycode/hexo-git-backup</a></p><h3 id="同上，创建源码备份仓库或分支"><a href="#同上，创建源码备份仓库或分支" class="headerlink" title="同上，创建源码备份仓库或分支"></a>同上，创建源码备份仓库或分支</h3><h3 id="插件安装"><a href="#插件安装" class="headerlink" title="插件安装"></a>插件安装</h3><p>Hexo的2.x与3.x版本此插件不通用，所以要对应安装</p><p>如果你的 Hexo 版本是 2.x.x，则使用以下命令安装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-git-backup@0.0.91 --save</span><br></pre></td></tr></table></figure><p>如果你的 Hexo 版本是 3.x.x，则使用以下命令安装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-git-backup --save</span><br></pre></td></tr></table></figure><h3 id="插件配置"><a href="#插件配置" class="headerlink" title="插件配置"></a>插件配置</h3><p>在博客根目录下的 <code>_config.yml</code> 文件中配置插件，如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">backup:</span><br><span class="line">    type: git</span><br><span class="line">    theme: fexo #主题名</span><br><span class="line">    message: 新文章发表 #备份说明</span><br><span class="line">    repository:</span><br><span class="line">       github: git@github.com:Senorui&#x2F;Blog.git,Blog   </span><br></pre></td></tr></table></figure><h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><p>运行一下命令即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo backup &amp; hexo b</span><br></pre></td></tr></table></figure><h3 id="新电脑上还原源码-1"><a href="#新电脑上还原源码-1" class="headerlink" title="新电脑上还原源码"></a>新电脑上还原源码</h3><p>同上！！！</p><h3 id="结束语-1"><a href="#结束语-1" class="headerlink" title="结束语"></a>结束语</h3><p>为方便部署文章和备份源码，同样可写一个名为<code>deploy.sh</code>的文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br><span class="line">hexo b</span><br></pre></td></tr></table></figure><p>部署文章和备份源码时直接输入以下命令即可。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh deploy.sh</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">hexo博客部署文章的同时并将源码备份到Github仓库。</summary>
    
    
    
    <category term="烟岚云岫" scheme="https://senorui.top/categories/%E7%83%9F%E5%B2%9A%E4%BA%91%E5%B2%AB/"/>
    
    
    <category term="Hexo博客" scheme="https://senorui.top/tags/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="Hexo源码备份" scheme="https://senorui.top/tags/Hexo%E6%BA%90%E7%A0%81%E5%A4%87%E4%BB%BD/"/>
    
  </entry>
  
  <entry>
    <title>慢慢喜欢你</title>
    <link href="https://senorui.top/posts/3e47.html"/>
    <id>https://senorui.top/posts/3e47.html</id>
    <published>2020-05-25T13:09:53.000Z</published>
    <updated>2020-08-21T06:48:58.936Z</updated>
    
    <content type="html"><![CDATA[<div style="position: relative; width: 100%; height: 0;padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?aid=24504918&bvid=BV1rW411A7pu&cid=41158073&page=1&as_wide=1&high_quality=1&danmaku=0" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute;; width: 100%; height: 100%; left: 0; top: 0;"> </iframe></div><div class="note primary no-icon">有诗云：<p>浮世三千，吾爱有三。</p><p>日，月与卿。</p><p>日为朝，月为暮，</p><p>卿为朝朝暮暮。</p></div><p>曾经那个在演唱会上哭着唱《他不爱我》的莫文蔚，终于有一天也能幸福的唱《慢慢喜欢你》。</p><p>而周二珂的《慢慢喜欢你》把这种幸福感唱得淋漓尽致，MV更是以男友视角让幸福感满满溢出了屏幕。</p><p>慢慢地<br>慢慢喜地欢你，<br>在别人那里，<br>是进行时，是爱心子弹填装中。<br>但只有在莫后的声音里，才是喜欢你喜欢了一整个岁月漫长，<br>从未来往过去回望，从过去向未来张望。<br>这就是爱情吧！</p>]]></content>
    
    
    <summary type="html">超喜欢周二珂的这首《慢慢喜欢你》，MV也是满满幸福的男友视角啊。</summary>
    
    
    
    <category term="温澜潮生" scheme="https://senorui.top/categories/%E6%B8%A9%E6%BE%9C%E6%BD%AE%E7%94%9F/"/>
    
    
    <category term="周二珂" scheme="https://senorui.top/tags/%E5%91%A8%E4%BA%8C%E7%8F%82/"/>
    
    <category term="慢慢喜欢你" scheme="https://senorui.top/tags/%E6%85%A2%E6%85%A2%E5%96%9C%E6%AC%A2%E4%BD%A0/"/>
    
  </entry>
  
</feed>
